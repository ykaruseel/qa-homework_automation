((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).zip={})})(this,function(e){"use strict";const{Array:t,Object:r,String:n,Number:i,BigInt:s,Math:a,Date:o,Map:l,Set:f,Response:c,URL:u,Error:d,Uint8Array:h,Uint16Array:w,Uint32Array:p,DataView:g,Blob:m,Promise:b,TextEncoder:y,TextDecoder:k,document:S,crypto:z,btoa:_,TransformStream:x,ReadableStream:v,WritableStream:E,CompressionStream:R,DecompressionStream:A,navigator:C,Worker:F}="undefined"!=typeof globalThis?globalThis:this||self;var N=void 0!==S?S.currentScript:null;const I=4294967295,D=65535,T=67324752,O=134695760,L=O,U=33639248,M=101010256,B=101075792,V=117853008,$=22,K=21589,P=2048,W="/",H=30,Z=new o(2107,11,31),q=new o(1980,0,1),Q=void 0,X="undefined",J="function";let G=2;try{typeof C!=X&&C.hardwareConcurrency&&(G=C.hardwareConcurrency)}catch{}const j={workerURI:"./core/web-worker-wasm.js",wasmURI:"./core/streams/zlib/zlib-streams.wasm",chunkSize:65536,maxWorkers:G,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,CompressionStream:typeof R!=X&&R,DecompressionStream:typeof A!=X&&A},Y=r.assign({},j);function ee(){return Y}function te(e){return a.max(e.chunkSize,64)}function re(e){const{baseURI:t,chunkSize:r,maxWorkers:n,terminateWorkerTimeout:i,useCompressionStream:s,useWebWorkers:a,CompressionStream:o,DecompressionStream:l,CompressionStreamZlib:f,DecompressionStreamZlib:c,workerURI:u,wasmURI:d}=e;ne("baseURI",t),ne("wasmURI",d),ne("workerURI",u),ne("chunkSize",r),ne("maxWorkers",n),ne("terminateWorkerTimeout",i),ne("useCompressionStream",s),ne("useWebWorkers",a),ne("CompressionStream",o),ne("DecompressionStream",l),ne("CompressionStreamZlib",f),ne("DecompressionStreamZlib",c)}function ne(e,t){t!==Q&&(Y[e]=t)}const ie=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;ie[e]=t}class se{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let r=0,n=0|e.length;n>r;r++)t=t>>>8^ie[255&(t^e[r])];this.crc=t}get(){return~this.crc}}class ae extends x{constructor(){let e;const t=new se;super({transform(e,r){t.append(e),r.enqueue(e)},flush(){const r=new h(4);new g(r.buffer).setUint32(0,t.get()),e.value=r}}),e=this}}function oe(e){if(typeof y==X){const t=new h((e=unescape(encodeURIComponent(e))).length);for(let r=0;r<t.length;r++)t[r]=e.charCodeAt(r);return t}return(new y).encode(e)}const le={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const r=e[e.length-1],n=le.getPartial(r);return 32===n?e.concat(t):le._shiftRight(t,n,0|r,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const r=e[t-1];return 32*(t-1)+le.getPartial(r)},clamp(e,t){if(32*e.length<t)return e;const r=(e=e.slice(0,a.ceil(t/32))).length;return t&=31,r>0&&t&&(e[r-1]=le.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:(e,t,r)=>32===e?t:(r?0|t:t<<32-e)+1099511627776*e,getPartial:e=>a.round(e/1099511627776)||32,_shiftRight(e,t,r,n){for(void 0===n&&(n=[]);t>=32;t-=32)n.push(r),r=0;if(0===t)return n.concat(e);for(let i=0;i<e.length;i++)n.push(r|e[i]>>>t),r=e[i]<<32-t;const i=e.length?e[e.length-1]:0,s=le.getPartial(i);return n.push(le.partial(t+s&31,t+s>32?r:n.pop(),1)),n}},fe={bytes:{fromBits(e){const t=le.bitLength(e)/8,r=new h(t);let n;for(let i=0;t>i;i++)3&i||(n=e[i/4]),r[i]=n>>>24,n<<=8;return r},toBits(e){const t=[];let r,n=0;for(r=0;r<e.length;r++)n=n<<8|e[r],3&~r||(t.push(n),n=0);return 3&r&&t.push(le.partial(8*(3&r),n)),t}}},ce=class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;"string"==typeof e&&(e=fe.utf8String.toBits(e));const r=t._buffer=le.concat(t._buffer,e),n=t._length,i=t._length=n+le.bitLength(e);if(i>9007199254740991)throw new d("Cannot hash more than 2^53 - 1 bits");const s=new p(r);let a=0;for(let e=t.blockSize+n-(t.blockSize+n&t.blockSize-1);i>=e;e+=t.blockSize)t._block(s.subarray(16*a,16*(a+1))),a+=1;return r.splice(0,16*a),t}finalize(){const e=this;let t=e._buffer;const r=e._h;t=le.concat(t,[le.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(a.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),r}_f(e,t,r,n){return e>19?e>39?e>59?e>79?void 0:t^r^n:t&r|t&n|r&n:t^r^n:t&r|~t&n}_S(e,t){return t<<e|t>>>32-e}_block(e){const r=this,n=r._h,i=t(80);for(let t=0;16>t;t++)i[t]=e[t];let s=n[0],o=n[1],l=n[2],f=n[3],c=n[4];for(let e=0;79>=e;e++){16>e||(i[e]=r._S(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=r._S(5,s)+r._f(e,o,l,f)+c+i[e]+r._key[a.floor(e/20)]|0;c=f,f=l,l=r._S(30,o),o=s,s=t}n[0]=n[0]+s|0,n[1]=n[1]+o|0,n[2]=n[2]+l|0,n[3]=n[3]+f|0,n[4]=n[4]+c|0}},ue={getRandomValues(e){const t=new p(e.buffer),r=e=>{let t=987654321;const r=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&r,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r)/4294967296+.5)*(a.random()>.5?1:-1))};for(let n,i=0;i<e.length;i+=4){const e=r(4294967296*(n||a.random()));n=987654071*e(),t[i/4]=4294967296*e()|0}return e}},de={importKey:e=>new de.hmacSha1(fe.bytes.toBits(e)),pbkdf2(e,t,r,n){if(r=r||1e4,0>n||0>r)throw new d("invalid params to pbkdf2");const i=1+(n>>5)<<2;let s,a,o,l,f;const c=new ArrayBuffer(i),u=new g(c);let h=0;const w=le;for(t=fe.bytes.toBits(t),f=1;(i||1)>h;f++){for(s=a=e.encrypt(w.concat(t,[f])),o=1;r>o;o++)for(a=e.encrypt(a),l=0;l<a.length;l++)s[l]^=a[l];for(o=0;(i||1)>h&&o<s.length;o++)u.setInt32(h,s[o]),h+=4}return c.slice(0,n/8)},hmacSha1:class{constructor(e){const t=this,r=t._hash=ce,n=[[],[]];t._baseHash=[new r,new r];const i=t._baseHash[0].blockSize/32;e.length>i&&(e=(new r).update(e).finalize());for(let t=0;i>t;t++)n[0][t]=909522486^e[t],n[1][t]=1549556828^e[t];t._baseHash[0].update(n[0]),t._baseHash[1].update(n[1]),t._resultHash=new r(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),r=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),r}encrypt(e){if(this._updated)throw new d("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},he=typeof z!=X&&typeof z.getRandomValues==J,we="Invalid password",pe="Invalid signature",ge="zipjs-abort-check-password";function me(e){return he?z.getRandomValues(e):ue.getRandomValues(e)}const be=16,ye={name:"PBKDF2"},ke=r.assign({hash:{name:"HMAC"}},ye),Se=r.assign({iterations:1e3,hash:{name:"SHA-1"}},ye),ze=["deriveBits"],_e=[8,12,16],xe=[16,24,32],ve=10,Ee=[0,0,0,0],Re=typeof z!=X,Ae=Re&&z.subtle,Ce=Re&&typeof Ae!=X,Fe=fe.bytes,Ne=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const r=t._tables[0][4],n=t._tables[1],i=e.length;let s,a,o,l=1;if(4!==i&&6!==i&&8!==i)throw new d("invalid aes key size");for(t._key=[a=e.slice(0),o=[]],s=i;4*i+28>s;s++){let e=a[s-1];(s%i===0||8===i&&s%i===4)&&(e=r[e>>>24]<<24^r[e>>16&255]<<16^r[e>>8&255]<<8^r[255&e],s%i===0&&(e=e<<8^e>>>24^l<<24,l=l<<1^283*(l>>7))),a[s]=a[s-i]^e}for(let e=0;s;e++,s--){const t=a[3&e?s:s-4];o[e]=4>=s||4>e?t:n[0][r[t>>>24]]^n[1][r[t>>16&255]]^n[2][r[t>>8&255]]^n[3][r[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],r=e[4],n=t[4],i=[],s=[];let a,o,l,f;for(let e=0;256>e;e++)s[(i[e]=e<<1^283*(e>>7))^e]=e;for(let c=a=0;!r[c];c^=o||1,a=s[a]||1){let s=a^a<<1^a<<2^a<<3^a<<4;s=s>>8^255&s^99,r[c]=s,n[s]=c,f=i[l=i[o=i[c]]];let u=16843009*f^65537*l^257*o^16843008*c,d=257*i[s]^16843008*s;for(let r=0;4>r;r++)e[r][c]=d=d<<24^d>>>8,t[r][s]=u=u<<24^u>>>8}for(let r=0;5>r;r++)e[r]=e[r].slice(0),t[r]=t[r].slice(0)}_crypt(e,t){if(4!==e.length)throw new d("invalid aes block size");const r=this._key[t],n=r.length/4-2,i=[0,0,0,0],s=this._tables[t],a=s[0],o=s[1],l=s[2],f=s[3],c=s[4];let u,h,w,p=e[0]^r[0],g=e[t?3:1]^r[1],m=e[2]^r[2],b=e[t?1:3]^r[3],y=4;for(let e=0;n>e;e++)u=a[p>>>24]^o[g>>16&255]^l[m>>8&255]^f[255&b]^r[y],h=a[g>>>24]^o[m>>16&255]^l[b>>8&255]^f[255&p]^r[y+1],w=a[m>>>24]^o[b>>16&255]^l[p>>8&255]^f[255&g]^r[y+2],b=a[b>>>24]^o[p>>16&255]^l[g>>8&255]^f[255&m]^r[y+3],y+=4,p=u,g=h,m=w;for(let e=0;4>e;e++)i[t?3&-e:e]=c[p>>>24]<<24^c[g>>16&255]<<16^c[m>>8&255]<<8^c[255&b]^r[y++],u=p,p=g,g=m,m=b,b=u;return i}},Ie=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,r){let n;if(!(n=t.length))return[];const i=le.bitLength(t);for(let i=0;n>i;i+=4){this.incCounter(r);const n=e.encrypt(r);t[i]^=n[0],t[i+1]^=n[1],t[i+2]^=n[2],t[i+3]^=n[3]}return le.clamp(t,i)}},De=de.hmacSha1;let Te=Re&&Ce&&typeof Ae.importKey==J,Oe=Re&&Ce&&typeof Ae.deriveBits==J;class Le extends x{constructor({password:e,rawPassword:t,signed:n,encryptionStrength:i,checkPasswordOnly:s}){super({start(){r.assign(this,{ready:new b(e=>this.resolveReady=e),password:Ve(e,t),signed:n,strength:i-1,pending:new h})},async transform(e,t){const r=this,{password:n,strength:i,resolveReady:a,ready:o}=r;n?(await(async(e,t,r,n)=>{const i=await Be(e,t,r,Ke(n,0,_e[t])),s=Ke(n,_e[t]);if(i[0]!=s[0]||i[1]!=s[1])throw new d(we)})(r,i,n,Ke(e,0,_e[i]+2)),e=Ke(e,_e[i]+2),s?t.error(new d(ge)):a()):await o;const l=new h(e.length-ve-(e.length-ve)%be);t.enqueue(Me(r,e,l,0,ve,!0))},async flush(e){const{signed:t,ctr:r,hmac:n,pending:i,ready:s}=this;if(n&&r){await s;const a=Ke(i,0,i.length-ve),o=Ke(i,i.length-ve);let l=new h;if(a.length){const e=We(Fe,a);n.update(e);const t=r.update(e);l=Pe(Fe,t)}if(t){const e=Ke(Pe(Fe,n.digest()),0,ve);for(let t=0;ve>t;t++)if(e[t]!=o[t])throw new d(pe)}e.enqueue(l)}}})}}class Ue extends x{constructor({password:e,rawPassword:t,encryptionStrength:n}){let i;super({start(){r.assign(this,{ready:new b(e=>this.resolveReady=e),password:Ve(e,t),strength:n-1,pending:new h})},async transform(e,t){const r=this,{password:n,strength:i,resolveReady:s,ready:a}=r;let o=new h;n?(o=await(async(e,t,r)=>{const n=me(new h(_e[t]));return $e(n,await Be(e,t,r,n))})(r,i,n),s()):await a;const l=new h(o.length+e.length-e.length%be);l.set(o,0),t.enqueue(Me(r,e,l,o.length,0))},async flush(e){const{ctr:t,hmac:r,pending:n,ready:s}=this;if(r&&t){await s;let a=new h;if(n.length){const e=t.update(We(Fe,n));r.update(e),a=Pe(Fe,e)}i.signature=Pe(Fe,r.digest()).slice(0,ve),e.enqueue($e(a,i.signature))}}}),i=this}}function Me(e,t,r,n,i,s){const{ctr:a,hmac:o,pending:l}=e,f=t.length-i;let c;for(l.length&&(t=$e(l,t),r=((e,t)=>{if(t&&t>e.length){const r=e;(e=new h(t)).set(r,0)}return e})(r,f-f%be)),c=0;f-be>=c;c+=be){const e=We(Fe,Ke(t,c,c+be));s&&o.update(e);const i=a.update(e);s||o.update(i),r.set(Pe(Fe,i),c+n)}return e.pending=Ke(t,c),r}async function Be(e,n,i,s){e.password=null;const a=await(async(e,t,r,n,i)=>{if(!Te)return de.importKey(t);try{return await Ae.importKey("raw",t,r,!1,i)}catch{return Te=!1,de.importKey(t)}})(0,i,ke,0,ze),o=await(async(e,t,r)=>{if(!Oe)return de.pbkdf2(t,e.salt,Se.iterations,r);try{return await Ae.deriveBits(e,t,r)}catch{return Oe=!1,de.pbkdf2(t,e.salt,Se.iterations,r)}})(r.assign({salt:s},Se),a,8*(2*xe[n]+2)),l=new h(o),f=We(Fe,Ke(l,0,xe[n])),c=We(Fe,Ke(l,xe[n],2*xe[n])),u=Ke(l,2*xe[n]);return r.assign(e,{keys:{key:f,authentication:c,passwordVerification:u},ctr:new Ie(new Ne(f),t.from(Ee)),hmac:new De(c)}),u}function Ve(e,t){return t===Q?oe(e):t}function $e(e,t){let r=e;return e.length+t.length&&(r=new h(e.length+t.length),r.set(e,0),r.set(t,e.length)),r}function Ke(e,t,r){return e.subarray(t,r)}function Pe(e,t){return e.fromBits(t)}function We(e,t){return e.toBits(t)}class He extends x{constructor({password:e,passwordVerification:t,checkPasswordOnly:n}){super({start(){r.assign(this,{password:e,passwordVerification:t}),Xe(this,e)},transform(e,t){const r=this;if(r.password){const t=qe(r,e.subarray(0,12));if(r.password=null,t.at(-1)!=r.passwordVerification)throw new d(we);e=e.subarray(12)}n?t.error(new d(ge)):t.enqueue(qe(r,e))}})}}class Ze extends x{constructor({password:e,passwordVerification:t}){super({start(){r.assign(this,{password:e,passwordVerification:t}),Xe(this,e)},transform(e,t){const r=this;let n,i;if(r.password){r.password=null;const t=me(new h(12));t[11]=r.passwordVerification,n=new h(e.length+t.length),n.set(Qe(r,t),0),i=12}else n=new h(e.length),i=0;n.set(Qe(r,e),i),t.enqueue(n)}})}}function qe(e,t){const r=new h(t.length);for(let n=0;n<t.length;n++)r[n]=Ge(e)^t[n],Je(e,r[n]);return r}function Qe(e,t){const r=new h(t.length);for(let n=0;n<t.length;n++)r[n]=Ge(e)^t[n],Je(e,t[n]);return r}function Xe(e,t){const n=[305419896,591751049,878082192];r.assign(e,{keys:n,crcKey0:new se(n[0]),crcKey2:new se(n[2])});for(let r=0;r<t.length;r++)Je(e,t.charCodeAt(r))}function Je(e,t){let[r,n,i]=e.keys;e.crcKey0.append([t]),r=~e.crcKey0.get(),n=Ye(a.imul(Ye(n+je(r)),134775813)+1),e.crcKey2.append([n>>>24]),i=~e.crcKey2.get(),e.keys=[r,n,i]}function Ge(e){const t=2|e.keys[2];return je(a.imul(t,1^t)>>>8)}function je(e){return 255&e}function Ye(e){return 4294967295&e}const et="Invalid uncompressed size";class tt extends x{constructor(e,{chunkSize:t,CompressionStreamZlib:r,CompressionStream:n}){super({});const{compressed:i,encrypted:s,useCompressionStream:a,zipCrypto:o,signed:l,level:f}=e,c=this;let u,d,h=super.readable;s&&!o||!l||(u=new ae,h=st(h,u)),i&&(h=it(h,a,{level:f,chunkSize:t},n,r,n)),s&&(o?h=st(h,new Ze(e)):(d=new Ue(e),h=st(h,d))),nt(c,h,()=>{let e;s&&!o&&(e=d.signature),s&&!o||!l||(e=new g(u.value.buffer).getUint32(0)),c.signature=e})}}class rt extends x{constructor(e,{chunkSize:t,DecompressionStreamZlib:r,DecompressionStream:n}){super({});const{zipCrypto:i,encrypted:s,signed:a,signature:o,compressed:l,useCompressionStream:f,deflate64:c}=e;let u,h,w=super.readable;s&&(i?w=st(w,new He(e)):(h=new Le(e),w=st(w,h))),l&&(w=it(w,f,{chunkSize:t,deflate64:c},n,r,n)),s&&!i||!a||(u=new ae,w=st(w,u)),nt(this,w,()=>{if((!s||i)&&a){const e=new g(u.value.buffer);if(o!=e.getUint32(0,!1))throw new d(pe)}})}}function nt(e,t,n){t=st(t,new x({flush:n})),r.defineProperty(e,"readable",{get:()=>t})}function it(e,t,r,n,i,s){const a=t&&n?n:i||s,o=r.deflate64?"deflate64-raw":"deflate-raw";try{e=st(e,new a(o,r))}catch(n){if(!t)throw n;if(i)e=st(e,new i(o,r));else{if(!s)throw n;e=st(e,new s(o,r))}}return e}function st(e,t){return e.pipeThrough(t)}const at="data",ot="close",lt="deflate",ft="inflate";class ct extends x{constructor(e,t){super({});const n=this,{codecType:i}=e;let s;i.startsWith(lt)?s=tt:i.startsWith(ft)&&(s=rt),n.outputSize=0;let a=0;const o=new s(e,t),l=super.readable,f=new x({transform(e,t){e&&e.length&&(a+=e.length,t.enqueue(e))},flush(){r.assign(n,{inputSize:a})}}),c=new x({transform(t,r){if(t&&t.length&&(r.enqueue(t),n.outputSize+=t.length,e.outputSize!==Q&&n.outputSize>e.outputSize))throw new d(et)},flush(){const{signature:e}=o;r.assign(n,{signature:e,inputSize:a})}});r.defineProperty(n,"readable",{get:()=>l.pipeThrough(f).pipeThrough(o).pipeThrough(c)})}}class ut extends x{constructor(e){let t;super({transform:function r(n,i){if(t){const e=new h(t.length+n.length);e.set(t),e.set(n,t.length),n=e,t=null}n.length>e?(i.enqueue(n.slice(0,e)),r(n.slice(e),i)):t=n},flush(e){t&&t.length&&e.enqueue(t)}})}}let dt=typeof F!=X;class ht{constructor(e,{readable:t,writable:n},{options:i,config:s,streamOptions:a,useWebWorkers:o,transferStreams:l,workerURI:f},c){const{signal:u}=a;return r.assign(e,{busy:!0,readable:t.pipeThrough(new ut(s.chunkSize)).pipeThrough(new wt(a),{signal:u}),writable:n,options:r.assign({},i),workerURI:f,transferStreams:l,terminate:()=>new b(t=>{const{worker:r,busy:n}=e;r?(n?e.resolveTerminated=t:(r.terminate(),t()),e.interface=null):t()}),onTaskFinished(){const{resolveTerminated:t}=e;t&&(e.resolveTerminated=null,e.terminated=!0,e.worker.terminate(),t()),e.busy=!1,c(e)}}),(o&&dt?mt:gt)(e,s)}}class wt extends x{constructor({onstart:e,onprogress:t,size:r,onend:n}){let i=0;super({async start(){e&&await pt(e,r)},async transform(e,n){i+=e.length,t&&await pt(t,i,r),n.enqueue(e)},async flush(){n&&await pt(n,i)}})}}async function pt(e,...t){try{await e(...t)}catch{}}function gt(e,t){return{run:()=>(async({options:e,readable:t,writable:r,onTaskFinished:n},i)=>{let s;try{if(!e.useCompressionStream)try{await void 0}catch{e.useCompressionStream=!0}s=new ct(e,i),await t.pipeThrough(s).pipeTo(r,{preventClose:!0,preventAbort:!0});const{signature:n,inputSize:a,outputSize:o}=s;return{signature:n,inputSize:a,outputSize:o}}catch(e){throw s&&(e.outputSize=s.outputSize),e}finally{n()}})(e,t)}}function mt(e,t){const{baseURI:n,chunkSize:i}=t;let{wasmURI:s}=t;if(!e.interface){let a;typeof s==J&&(s=s());try{a=((e,t,n)=>{const i={type:"module"};let s,a;if(typeof e==J&&(e=e()),e.startsWith("data:")||e.startsWith("blob:"))try{a=new F(e)}catch{a=new F(e,i)}else{try{s=new u(e,t)}catch{s=e}a=new F(s,i)}return a.addEventListener("message",e=>(async({data:e},t)=>{const{type:n,value:i,messageId:s,result:a,error:o}=e,{reader:l,writer:f,resolveResult:c,rejectResult:u,onTaskFinished:w}=t;try{if(o){const{message:e,stack:t,code:n,name:i,outputSize:s}=o,a=new d(e);r.assign(a,{stack:t,code:n,name:i,outputSize:s}),p(a)}else{if("pull"==n){const{value:e,done:r}=await l.read();yt({type:at,value:e,done:r,messageId:s},t)}n==at&&(await f.ready,await f.write(new h(i)),yt({type:"ack",messageId:s},t)),n==ot&&p(null,a)}}catch(o){yt({type:ot,messageId:s},t),p(o)}function p(e,t){e?u(e):c(t),f&&f.releaseLock(),w()}})(e,n)),a})(e.workerURI,n,e)}catch{return dt=!1,gt(e,t)}r.assign(e,{worker:a,interface:{run:()=>(async(e,t)=>{let n,i;const s=new b((e,t)=>{n=e,i=t});r.assign(e,{reader:null,writer:null,resolveResult:n,rejectResult:i,result:s});const{readable:a,options:o}=e,{writable:l,closed:f}=(e=>{let t;const r=new b(e=>t=e);return{writable:new E({async write(t){const r=e.getWriter();await r.ready,await r.write(t),r.releaseLock()},close(){t()},abort:t=>e.getWriter().abort(t)}),closed:r}})(e.writable),c=yt({type:"start",options:o,config:t,readable:a,writable:l},e);c||r.assign(e,{reader:a.getReader(),writer:l.getWriter()});const u=await s;return c||await l.getWriter().close(),await f,u})(e,{chunkSize:i,wasmURI:s,baseURI:n})}})}return e.interface}let bt=!0;function yt(e,{worker:t,writer:r,onTaskFinished:n,transferStreams:i}){try{const{value:r,readable:n,writable:s}=e,a=[];if(r&&(r.byteLength<r.buffer.byteLength?e.value=r.buffer.slice(0,r.byteLength):e.value=r.buffer,a.push(e.value)),i&&bt?(n&&a.push(n),s&&a.push(s)):e.readable=e.writable=null,a.length)try{return t.postMessage(e,a),!0}catch{bt=!1,e.readable=e.writable=null,t.postMessage(e)}else t.postMessage(e)}catch(e){throw r&&r.releaseLock(),n(),e}}let kt=[];const St=[];let zt=0;async function _t(e,t){const{options:r,config:n}=t,{transferStreams:s,useWebWorkers:a,useCompressionStream:o,compressed:l,signed:f,encrypted:c}=r,{workerURI:u,maxWorkers:d}=n;t.transferStreams=s||s===Q;const h=!(l||f||c||t.transferStreams);return t.useWebWorkers=!h&&(a||a===Q&&n.useWebWorkers),t.workerURI=t.useWebWorkers&&u?u:Q,r.useCompressionStream=o||o===Q&&n.useCompressionStream,(await(async()=>{const r=kt.find(e=>!e.busy);if(r)return xt(r),new ht(r,e,t,w);if(kt.length<d){const r={indexWorker:zt};return zt++,kt.push(r),new ht(r,e,t,w)}return new b(r=>St.push({resolve:r,stream:e,workerOptions:t}))})()).run();function w(e){if(St.length){const[{resolve:t,stream:r,workerOptions:n}]=St.splice(0,1);t(new ht(e,r,n,w))}else e.worker?(xt(e),((e,t)=>{const{config:r}=t,{terminateWorkerTimeout:n}=r;i.isFinite(n)&&n>=0&&(e.terminated?e.terminated=!1:e.terminateTimeout=setTimeout(async()=>{kt=kt.filter(t=>t!=e);try{await e.terminate()}catch{}},n))})(e,t)):kt=kt.filter(t=>t!=e)}}function xt(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}const vt="HTTP error ",Et="HTTP Range not supported",Rt="Range",At="GET",Ct="bytes",Ft=65536,Nt="writable";class It{constructor(){this.size=0}init(){this.initialized=!0}}class Dt extends It{get readable(){const e=this,{chunkSize:t=Ft}=e,r=new v({start(){this.chunkOffset=0},async pull(n){const{offset:i=0,size:s,diskNumberStart:o}=r,{chunkOffset:l}=this,f=s===Q?t:a.min(t,s-l),c=await rr(e,i+l,f,o);n.enqueue(c),l+t>s||s===Q&&!c.length&&f?n.close():this.chunkOffset+=t}});return r}}class Tt extends It{constructor(){super();const e=this,t=new E({write(t){if(!e.initialized)throw new d("Writer not initialized");return e.writeUint8Array(t)}});r.defineProperty(e,Nt,{get:()=>t})}writeUint8Array(){}}class Ot extends Dt{constructor(e){super(),r.assign(this,{blob:e,size:e.size})}async readUint8Array(e,t){const r=this,n=e+t,i=e||n<r.size?r.blob.slice(e,n):r.blob;let s=await i.arrayBuffer();return s.byteLength>t&&(s=s.slice(e,n)),new h(s)}}class Lt extends It{constructor(e){super();const t=new x,n=[];e&&n.push(["Content-Type",e]),r.defineProperty(this,Nt,{get:()=>t.writable}),this.blob=new c(t.readable,{headers:n}).blob()}getData(){return this.blob}}class Ut extends Dt{constructor(e,t){super(),Bt(this,e,t)}async init(){await Vt(this,Qt,Wt),super.init()}readUint8Array(e,t){return $t(this,e,t,Qt,Wt)}}class Mt extends Dt{constructor(e,t){super(),Bt(this,e,t)}async init(){await Vt(this,Xt,Ht),super.init()}readUint8Array(e,t){return $t(this,e,t,Xt,Ht)}}function Bt(e,t,n){const{preventHeadRequest:i,useRangeHeader:s,forceRangeRequests:a,combineSizeEocd:o}=n;delete(n=r.assign({},n)).preventHeadRequest,delete n.useRangeHeader,delete n.forceRangeRequests,delete n.combineSizeEocd,delete n.useXHR,r.assign(e,{url:t,options:n,preventHeadRequest:i,useRangeHeader:s,forceRangeRequests:a,combineSizeEocd:o})}async function Vt(e,t,r){const{url:n,preventHeadRequest:s,useRangeHeader:a,forceRangeRequests:o,combineSizeEocd:l}=e;if((e=>{const{baseURI:t}=ee(),{protocol:r}=new u(e,t);return"http:"==r||"https:"==r})(n)&&(a||o)&&(void 0===s||s)){const n=await t(At,e,Kt(e,l?-22:void 0)),s=n.headers.get("Accept-Ranges");if(!(o||s&&s.toLowerCase()==Ct))throw new d(Et);{let s;l&&(e.eocdCache=new h(await n.arrayBuffer()));const a=n.headers.get("Content-Range");if(a){const e=a.trim().split(/\s*\/\s*/);if(e.length){const t=e[1];t&&"*"!=t&&(s=i(t))}}s===Q?await qt(e,t,r):e.size=s}}else await qt(e,t,r)}async function $t(e,t,r,n,i){const{useRangeHeader:s,forceRangeRequests:a,eocdCache:o,size:l,options:f}=e;if(s||a){if(o&&t==l-$&&r==$)return o;if(l>t){t+r>l&&(r=l-t);const i=await n(At,e,Kt(e,t,r));if(206!=i.status)throw new d(Et);return new h(await i.arrayBuffer())}return new h}{const{data:n}=e;return n||await i(e,f),new h(e.data.subarray(t,t+r))}}function Kt(e,t=0,n=1){return r.assign({},Pt(e),{[Rt]:Ct+"="+(0>t?t:t+"-"+(t+n-1))})}function Pt({options:e}){const{headers:t}=e;if(t)return Symbol.iterator in t?r.fromEntries(t):t}async function Wt(e){await Zt(e,Qt)}async function Ht(e){await Zt(e,Xt)}async function Zt(e,t){const r=await t(At,e,Pt(e));e.data=new h(await r.arrayBuffer()),e.size||(e.size=e.data.length)}async function qt(e,t,r){if(e.preventHeadRequest)await r(e,e.options);else{const n=(await t("HEAD",e,Pt(e))).headers.get("Content-Length");n?e.size=i(n):await r(e,e.options)}}async function Qt(e,{options:t,url:n},i){const s=await fetch(n,r.assign({},t,{method:e,headers:i}));if(400>s.status)return s;throw 416==s.status?new d(Et):new d(vt+(s.statusText||s.status))}function Xt(e,{url:t},n){return new b((i,s)=>{const a=new XMLHttpRequest;if(a.addEventListener("load",()=>{if(400>a.status){const e=[];a.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(t=>{const r=t.trim().split(/\s*:\s*/);r[0]=r[0].trim().replace(/^[a-z]|-[a-z]/g,e=>e.toUpperCase()),e.push(r)}),i({status:a.status,arrayBuffer:()=>a.response,headers:new l(e)})}else s(416==a.status?new d(Et):new d(vt+(a.statusText||a.status)))},!1),a.addEventListener("error",e=>s(e.detail?e.detail.error:new d("Network error")),!1),a.open(e,t),n)for(const e of r.entries(n))a.setRequestHeader(e[0],e[1]);a.responseType="arraybuffer",a.send()})}class Jt extends Dt{constructor(e,t={}){super(),r.assign(this,{url:e,reader:t.useXHR?new Mt(e,t):new Ut(e,t)})}set size(e){}get size(){return this.reader.size}async init(){await this.reader.init(),super.init()}readUint8Array(e,t){return this.reader.readUint8Array(e,t)}}class Gt extends Dt{constructor(e){super(),this.readers=e}async init(){const e=this,{readers:t}=e;e.lastDiskNumber=0,e.lastDiskOffset=0,await b.all(t.map(async(r,n)=>{await r.init(),n!=t.length-1&&(e.lastDiskOffset+=r.size),e.size+=r.size})),super.init()}async readUint8Array(e,t,r=0){const n=this,{readers:i}=this;let s,o=r;-1==o&&(o=i.length-1);let l=e;for(;i[o]&&l>=i[o].size;)l-=i[o].size,o++;const f=i[o];if(f){const i=f.size;if(l+t>i){const a=i-l;s=new h(t);const o=await rr(f,l,a);s.set(o,0);const c=await n.readUint8Array(e+a,t-a,r);s.set(c,a),o.length+c.length<t&&(s=s.subarray(0,o.length+c.length))}else s=await rr(f,l,t)}else s=new h;return n.lastDiskNumber=a.max(o,n.lastDiskNumber),s}}class jt extends It{constructor(e,t=4294967295){super();const n=this;let i,s,a;r.assign(n,{diskNumber:0,diskOffset:0,size:0,maxSize:t,availableSize:t});const o=new E({async write(t){const{availableSize:r}=n;if(a)t.length<r?await l(t):(await l(t.subarray(0,r)),await f(),n.diskOffset+=i.size,n.diskNumber++,a=null,await this.write(t.subarray(r)));else{const{value:r,done:o}=await e.next();if(o&&!r)throw new d("Writer iterator completed too soon");i=r,i.size=0,i.maxSize&&(n.maxSize=i.maxSize),n.availableSize=n.maxSize,await tr(i),s=r.writable,a=s.getWriter(),await this.write(t)}},async close(){await a.ready,await f()}});async function l(e){const t=e.length;t&&(await a.ready,await a.write(e),i.size+=t,n.size+=t,n.availableSize-=t)}async function f(){await a.close()}r.defineProperty(n,Nt,{get:()=>o})}}class Yt{constructor(e){return t.isArray(e)&&(e=new Gt(e)),e instanceof v&&(e={readable:e}),e}}class er{constructor(e){return e.writable===Q&&typeof e.next==J&&(e=new jt(e)),e instanceof E&&(e={writable:e}),e.size===Q&&(e.size=0),e instanceof jt||r.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),e}}async function tr(e,t){if(!e.init||e.initialized)return b.resolve();await e.init(t)}function rr(e,t,r,n){return e.readUint8Array(t,r,n)}const nr="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split("");function ir(e,t){return t&&"cp437"==t.trim().toLowerCase()?(e=>{{let t="";for(let r=0;r<e.length;r++)t+=nr[e[r]];return t}})(e):new k(t).decode(e)}const sr="filename",ar="rawFilename",or="comment",lr="rawComment",fr="uncompressedSize",cr="compressedSize",ur="offset",dr="diskNumberStart",hr="lastModDate",wr="rawLastModDate",pr="lastAccessDate",gr="creationDate",mr="internalFileAttributes",br="externalFileAttributes",yr="msDosCompatible",kr="zip64",Sr="encrypted",zr="version",_r="versionMadeBy",xr="zipCrypto",vr="directory",Er="executable",Rr="compressionMethod",Ar="signature",Cr="extraField",Fr=[sr,ar,cr,fr,hr,wr,or,lr,pr,gr,ur,dr,dr,mr,br,yr,kr,Sr,zr,_r,xr,vr,Er,Rr,Ar,Cr,"bitFlag","filenameUTF8","commentUTF8","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class Nr{constructor(e){Fr.forEach(t=>this[t]=e[t])}}const Ir="password",Dr="rawPassword",Tr="passThrough",Or="signal",Lr="useWebWorkers",Ur="useCompressionStream",Mr="preventClose",Br="supportZip64SplitFile",Vr="offset",$r="usdz",Kr="File format is not recognized",Pr="End of central directory not found",Wr="End of Zip64 central directory locator not found",Hr="Central directory header not found",Zr="Local file header not found",qr="Zip64 extra field not found",Qr="File contains encrypted entry",Xr="Encryption method not supported",Jr="Compression method not supported",Gr="Split zip file",jr="Overlapping entry found",Yr="utf-8",en="cp437",tn=[[fr,I],[cr,I],[ur,I],[dr,D]],rn={[D]:{getValue:wn,bytes:4},[I]:{getValue:pn,bytes:8}};class nn{constructor(e,t={}){r.assign(this,{reader:new Yt(e),options:t,config:ee(),readRanges:[]})}async*getEntriesGenerator(e={}){const t=this;let{reader:n}=t;const{config:i}=t;if(await tr(n),n.size!==Q&&n.readUint8Array||(n=new Ot(await new c(n.readable).blob()),await tr(n)),n.size<$)throw new d(Kr);n.chunkSize=te(i);const s=await(async(e,t,r)=>{const n=new h(4);var i;return i=t,gn(n).setUint32(0,i,!0),await s(22)||await s(a.min(1048582,r));async function s(t){const i=r-t,s=await rr(e,i,t);for(let e=s.length-22;e>=0;e--)if(s[e]==n[0]&&s[e+1]==n[1]&&s[e+2]==n[2]&&s[e+3]==n[3])return{offset:i+e,buffer:s.slice(e,e+22).buffer}}})(n,M,n.size);if(!s)throw wn(gn(await rr(n,0,4)))==O?new d(Gr):new d(Pr);const o=gn(s);let l=wn(o,12),f=wn(o,16);const u=s.offset,w=hn(o,20),p=u+$+w;let g=hn(o,4);const m=n.lastDiskNumber||0;let y=hn(o,6),k=hn(o,8),S=0,z=0;if(f==I||l==I||k==D||y==D){const e=gn(await rr(n,s.offset-20,20));if(wn(e,0)==V){f=pn(e,8);let t=await rr(n,f,56,-1),r=gn(t);const i=s.offset-20-56;if(wn(r,0)!=B&&f!=i){const e=f;f=i,f>e&&(S=f-e),t=await rr(n,f,56,-1),r=gn(t)}if(wn(r,0)!=B)throw new d(Wr);g==D&&(g=wn(r,16)),y==D&&(y=wn(r,20)),k==D&&(k=pn(r,32)),l==I&&(l=pn(r,40)),f-=l}}if(f<n.size||(S=n.size-f-l-$,f=n.size-l-$),m!=g)throw new d(Gr);if(0>f)throw new d(Kr);let _=0,v=await rr(n,f,l,y),E=gn(v);if(l){const e=s.offset-l;if(wn(E,_)!=U&&f!=e){const t=f;f=e,f>t&&(S+=f-t),v=await rr(n,f,l,y),E=gn(v)}}const R=s.offset-f-(n.lastDiskOffset||0);if(l==R||0>R||(l=R,v=await rr(n,f,l,y),E=gn(v)),0>f||f>=n.size)throw new d(Kr);const A=fn(t,e,"filenameEncoding"),C=fn(t,e,"commentEncoding");for(let s=0;k>s;s++){const o=new sn(n,i,t.options);if(wn(E,_)!=U)throw new d(Hr);an(o,E,_+6);const l=!!o.bitFlag.languageEncodingFlag,f=_+46,u=f+o.filenameLength,h=u+o.extraFieldLength,w=hn(E,_+4),p=!(w>>8),g=w>>8==3,m=v.subarray(f,u),y=hn(E,_+32),R=h+y,F=v.subarray(h,R),N=l,I=l,D=wn(E,_+38),T=p&&!(16&~dn(E,_+38))||g&&16384==(D>>16&61440)||m.length&&47==m.at(-1),O=g&&!!(D>>16&73),L=wn(E,_+42)+S;r.assign(o,{versionMadeBy:w,msDosCompatible:p,compressedSize:0,uncompressedSize:0,commentLength:y,directory:T,offset:L,diskNumberStart:hn(E,_+34),internalFileAttributes:hn(E,_+36),externalFileAttributes:D,rawFilename:m,filenameUTF8:N,commentUTF8:I,rawExtraField:v.subarray(u,h),executable:O}),o.internalFileAttribute=o.internalFileAttributes,o.externalFileAttribute=o.externalFileAttributes;const M=fn(t,e,"decodeText")||ir,B=N?Yr:A||en,V=I?Yr:C||en;let $=M(m,B);$===Q&&($=ir(m,B));let K=M(F,V);K===Q&&(K=ir(F,V)),r.assign(o,{rawComment:F,filename:$,comment:K,directory:T||$.endsWith(W)}),z=a.max(L,z),on(o,o,E,_+6),o.zipCrypto=o.encrypted&&!o.extraFieldAES;const P=new Nr(o);P.getData=(e,r)=>o.getData(e,P,t.readRanges,r),P.arrayBuffer=async e=>{const r=new x,[n]=await b.all([new c(r.readable).arrayBuffer(),o.getData(r,P,t.readRanges,e)]);return n},_=R;const{onprogress:H}=e;if(H)try{await H(s+1,k,new Nr(o))}catch{}yield P}const F=fn(t,e,"extractPrependedData"),N=fn(t,e,"extractAppendedData");return F&&(t.prependedData=z>0?await rr(n,0,z):new h),t.comment=w?await rr(n,u+$,w):new h,N&&(t.appendedData=p<n.size?await rr(n,p,n.size-p):new h),!0}async getEntries(e={}){const t=[];for await(const r of this.getEntriesGenerator(e))t.push(r);return t}async close(){}}class sn{constructor(e,t,n){r.assign(this,{reader:e,config:t,options:n})}async getData(e,t,n,i={}){const s=this,{reader:a,offset:o,diskNumberStart:l,extraFieldAES:f,extraFieldZip64:c,compressionMethod:u,config:w,bitFlag:p,signature:g,rawLastModDate:m,uncompressedSize:b,compressedSize:y}=s,{dataDescriptor:k}=p,S=t.localDirectory={},z=gn(await rr(a,o,H,l));let _=fn(s,i,Ir),x=fn(s,i,Dr);const v=fn(s,i,Tr);if(_=_&&_.length&&_,x=x&&x.length&&x,f&&99!=f.originalCompressionMethod)throw new d(Jr);if(0!=u&&8!=u&&9!=u&&!v)throw new d(Jr);if(wn(z,0)!=T)throw new d(Zr);an(S,z,4);const{extraFieldLength:R,filenameLength:A,lastAccessDate:C,creationDate:F}=S;S.rawExtraField=R?await rr(a,o+H+A,R,l):new h,on(s,S,z,4,!0),r.assign(t,{lastAccessDate:C,creationDate:F});const N=s.encrypted&&S.encrypted&&!v,I=N&&!f;if(v||(t.zipCrypto=I),N){if(!I&&f.strength===Q)throw new d(Xr);if(!_&&!x)throw new d(Qr)}const D=o+H+A+R,O=y,U=a.readable;r.assign(U,{diskNumberStart:l,offset:D,size:O});const M=fn(s,i,Or),B=fn(s,i,"checkPasswordOnly");let V=fn(s,i,"checkOverlappingEntry");const $=fn(s,i,"checkOverlappingEntryOnly");$&&(V=!0);const{onstart:K,onprogress:P,onend:W}=i,Z=9==u;let q=fn(s,i,Ur);Z&&(q=!1);const X={options:{codecType:ft,password:_,rawPassword:x,zipCrypto:I,encryptionStrength:f&&f.strength,signed:fn(s,i,"checkSignature")&&!v,passwordVerification:I&&(k?m>>>8&255:g>>>24&255),outputSize:v?y:b,signature:g,compressed:0!=u&&!v,encrypted:s.encrypted&&!v,useWebWorkers:fn(s,i,Lr),useCompressionStream:q,transferStreams:fn(s,i,"transferStreams"),deflate64:Z,checkPasswordOnly:B},config:w,streamOptions:{signal:M,size:O,onstart:K,onprogress:P,onend:W}};let J;V&&await(async({reader:e,fileEntry:t,offset:r,diskNumberStart:n,signature:i,compressedSize:s,uncompressedSize:a,dataOffset:o,dataDescriptor:l,extraFieldZip64:f,readRanges:c})=>{let u=0;if(n)for(let t=0;n>t;t++)u+=e.readers[t].size;let h=0;if(l&&(h=f?20:12),h){const r=await rr(e,o+s,h+4,n);if(wn(gn(r),0)==L){const e=wn(gn(r),4);let n,o;f?(n=pn(gn(r),8),o=pn(gn(r),16)):(n=wn(gn(r),8),o=wn(gn(r),12)),(t.encrypted&&!t.zipCrypto||e==i)&&n==s&&o==a&&(h+=4)}}const w={start:u+r,end:u+o+s+h,fileEntry:t};for(const e of c)if(e.fileEntry!=t&&w.start>=e.start&&w.start<e.end){const t=new d(jr);throw t.overlappingEntry=e.fileEntry,t}c.push(w)})({reader:a,fileEntry:t,offset:o,diskNumberStart:l,signature:g,compressedSize:y,uncompressedSize:b,dataOffset:D,dataDescriptor:k||S.bitFlag.dataDescriptor,extraFieldZip64:c||S.extraFieldZip64,readRanges:n});try{if(!$){B&&(e=new E),e=new er(e),await tr(e,v?y:b),({writable:J}=e);const{outputSize:t}=await _t({readable:U,writable:J},X);if(e.size+=t,t!=(v?y:b))throw new d(et)}}catch(t){if(t.outputSize!==Q&&(e.size+=t.outputSize),!B||t.message!=ge)throw t}finally{fn(s,i,Mr)||!J||J.locked||await J.getWriter().close()}return B||$?Q:e.getData?e.getData():J}}function an(e,t,n){const i=e.rawBitFlag=hn(t,n+2),s=!(1&~i),a=wn(t,n+6);r.assign(e,{encrypted:s,version:hn(t,n),bitFlag:{level:(6&i)>>1,dataDescriptor:!(8&~i),languageEncodingFlag:(i&P)==P},rawLastModDate:a,lastModDate:cn(a),filenameLength:hn(t,n+22),extraFieldLength:hn(t,n+24)})}function on(e,t,n,i,s){const{rawExtraField:a}=t,f=t.extraField=new l,c=gn(new h(a));let u=0;try{for(;u<a.length;){const e=hn(c,u),t=hn(c,u+2);f.set(e,{type:e,data:a.slice(u+4,u+4+t)}),u+=4+t}}catch{}const w=hn(n,i+4);r.assign(t,{signature:wn(n,i+10),compressedSize:wn(n,i+14),uncompressedSize:wn(n,i+18)});const p=f.get(1);p&&(((e,t)=>{t.zip64=!0;const r=gn(e.data),n=tn.filter(([e,r])=>t[e]==r);for(let i=0,s=0;i<n.length;i++){const[a,o]=n[i];if(t[a]==o){const n=rn[o];t[a]=e[a]=n.getValue(r,s),s+=n.bytes}else if(e[a])throw new d(qr)}})(p,t),t.extraFieldZip64=p);const g=f.get(28789);g&&(ln(g,sr,ar,t,e),t.extraFieldUnicodePath=g);const m=f.get(25461);m&&(ln(m,or,lr,t,e),t.extraFieldUnicodeComment=m);const b=f.get(39169);b?(((e,t,n)=>{const i=gn(e.data),s=dn(i,4);r.assign(e,{vendorVersion:dn(i,0),vendorId:dn(i,2),strength:s,originalCompressionMethod:n,compressionMethod:hn(i,5)}),t.compressionMethod=e.compressionMethod})(b,t,w),t.extraFieldAES=b):t.compressionMethod=w;const y=f.get(10);y&&(((e,t)=>{const n=gn(e.data);let i,s=4;try{for(;s<e.data.length&&!i;){const t=hn(n,s),r=hn(n,s+2);1==t&&(i=e.data.slice(s+4,s+4+r)),s+=4+r}}catch{}try{if(i&&24==i.length){const n=gn(i),s=n.getBigUint64(0,!0),a=n.getBigUint64(8,!0),o=n.getBigUint64(16,!0);r.assign(e,{rawLastModDate:s,rawLastAccessDate:a,rawCreationDate:o});const l={lastModDate:un(s),lastAccessDate:un(a),creationDate:un(o)};r.assign(e,l),r.assign(t,l)}}catch{}})(y,t),t.extraFieldNTFS=y);const k=f.get(K);k&&(((e,t,r)=>{const n=gn(e.data),i=dn(n,0),s=[],a=[];r?(1&~i||(s.push(hr),a.push(wr)),2&~i||(s.push(pr),a.push("rawLastAccessDate")),4&~i||(s.push(gr),a.push("rawCreationDate"))):5>e.data.length||(s.push(hr),a.push(wr));let l=1;s.forEach((r,i)=>{if(e.data.length>=l+4){const s=wn(n,l);t[r]=e[r]=new o(1e3*s);const f=a[i];e[f]=s}l+=4})})(k,t,s),t.extraFieldExtendedTimestamp=k);const S=f.get(6534);S&&(t.extraFieldUSDZ=S)}function ln(e,t,n,i,s){const a=gn(e.data),o=new se;o.append(s[n]);const l=gn(new h(4));l.setUint32(0,o.get(),!0);const f=wn(a,1);r.assign(e,{version:dn(a,0),[t]:ir(e.data.subarray(5)),valid:!s.bitFlag.languageEncodingFlag&&f==wn(l,0)}),e.valid&&(i[t]=e[t],i[t+"UTF8"]=!0)}function fn(e,t,r){return t[r]===Q?e.options[r]:t[r]}function cn(e){const t=(4294901760&e)>>16,r=65535&e;try{return new o(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&r)>>11,(2016&r)>>5,2*(31&r),0)}catch{}}function un(e){return new o(i(e/s(1e4)-s(116444736e5)))}function dn(e,t){return e.getUint8(t)}function hn(e,t){return e.getUint16(t,!0)}function wn(e,t){return e.getUint32(t,!0)}function pn(e,t){return i(e.getBigUint64(t,!0))}function gn(e){return new g(e.buffer)}const mn="File already exists",bn="Zip file comment exceeds 64KB",yn="File entry comment exceeds 64KB",kn="File entry name exceeds 64KB",Sn="Version exceeds 65535",zn="The strength must equal 1, 2, or 3",_n="Extra field type exceeds 65535",xn="Extra field data exceeds 64KB",vn="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",En="Undefined uncompressed size",Rn="Zip file not empty",An=new h([7,0,2,0,65,69,3,0,0]);let Cn=0;const Fn=[];class Nn{constructor(e,t={}){const n=(e=new er(e)).availableSize!==Q&&e.availableSize>0&&e.availableSize!==1/0&&e.maxSize!==Q&&e.maxSize>0&&e.maxSize!==1/0;r.assign(this,{writer:e,addSplitZipSignature:n,options:t,config:ee(),files:new l,filenames:new f,offset:t[Vr]===Q?e.size||e.writable.size||0:t[Vr],pendingEntriesSize:0,pendingAddFileCalls:new f,bufferedWrites:0})}async prependZip(e){if(this.filenames.size)throw new d(Rn);e=new Yt(e);const t=new nn(e.readable),n=await t.getEntries();await t.close(),await e.readable.pipeTo(this.writer.writable,{preventClose:!0,preventAbort:!0}),this.writer.size=this.offset=e.size,this.filenames=new f(n.map(e=>e.filename)),this.files=new l(n.map(e=>{const{version:t,compressionMethod:n,lastModDate:i,lastAccessDate:s,creationDate:a,rawFilename:o,bitFlag:l,encrypted:f,uncompressedSize:c,compressedSize:u,diskOffset:d,diskNumber:w,zip64:p}=e;let{rawExtraFieldZip64:g,rawExtraFieldAES:m,rawExtraFieldExtendedTimestamp:b,rawExtraFieldNTFS:y,rawExtraField:k}=e;const{level:S,languageEncodingFlag:z,dataDescriptor:_}=l;g=g||new h,m=m||new h,b=b||new h,y=y||new h,k=k||new h;const x=Pn(g,m,b,y,k),v=p&&c>I,E=p&&u>I,{headerArray:R,headerView:A}=Wn({version:t,bitFlag:Hn(S,z,_,f,n),compressionMethod:n,uncompressedSize:c,compressedSize:u,lastModDate:i,rawFilename:o,zip64CompressedSize:E,zip64UncompressedSize:v,extraFieldLength:x});return r.assign(e,{zip64UncompressedSize:v,zip64CompressedSize:E,zip64Offset:p&&this.offset-d>I,zip64DiskNumberStart:p&&w>D,rawExtraFieldZip64:g,rawExtraFieldAES:m,rawExtraFieldExtendedTimestamp:b,rawExtraFieldNTFS:y,rawExtraField:k,extendedTimestamp:b.length>0||y.length>0,extraFieldExtendedTimestampFlag:1+(s?2:0)+(a?4:0),headerArray:R,headerView:A}),[e.filename,e]}))}async add(e="",n,i={}){const l=this,{pendingAddFileCalls:f,config:u}=l;let p;Cn<u.maxWorkers?Cn++:await new b(e=>Fn.push(e));try{if(e=e.trim(),l.filenames.has(e))throw new d(mn);return l.filenames.add(e),p=(async(e,n,i,l)=>{n=n.trim();const f=On(e,l,yr),u=On(e,l,_r,f?20:768),p=On(e,l,Er);if(u>D)throw new d(Sn);let g=On(e,l,br,0);!l[vr]&&n.endsWith(W)&&(l[vr]=!0),On(e,l,vr)?(n.endsWith(W)||(n+=W),0===g&&(g=16,f||(g|=16877<<16))):f||0!==g||(g=p?493<<16:27525120);const m=On(e,l,"encodeText",oe);let y=m(n);if(y===Q&&(y=oe(n)),Pn(y)>D)throw new d(kn);const k=l[or]||"";let S=m(k);if(S===Q&&(S=oe(k)),Pn(S)>D)throw new d(yn);const z=On(e,l,zr,20);if(z>D)throw new d(Sn);const _=On(e,l,hr,new o),v=On(e,l,pr),E=On(e,l,gr),R=On(e,l,mr,0),A=On(e,l,Tr);let C,F;A||(C=On(e,l,Ir),F=On(e,l,Dr));const N=On(e,l,"encryptionStrength",3),U=On(e,l,xr),M=On(e,l,"extendedTimestamp",!0),B=On(e,l,"keepOrder",!0),V=On(e,l,Lr),$=On(e,l,"bufferedWrite"),P=On(e,l,"dataDescriptorSignature",!1),X=On(e,l,Or),J=On(e,l,"useUnicodeFileNames",!0),G=On(e,l,Rr);let j=On(e,l,"level"),Y=On(e,l,Ur),ee=On(e,l,"dataDescriptor");$&&ee===Q&&(ee=!1),(ee===Q||U)&&(ee=!0),j!==Q&&6!=j&&(Y=!1),Y||e.config.CompressionStream!==Q||e.config.CompressionStreamZlib!==Q||(j=0);let re=On(e,l,kr);if(!U&&(C!==Q||F!==Q)&&(1>N||N>3))throw new d(zn);let ne=new h;const ie=l[Cr];if(ie){let e=0,t=0;ie.forEach(t=>e+=4+Pn(t)),ne=new h(e),ie.forEach((e,r)=>{if(r>D)throw new d(_n);if(Pn(e)>D)throw new d(xn);$n(ne,new w([r]),t),$n(ne,new w([Pn(e)]),t+2),$n(ne,e,t+4),t+=4+Pn(e)})}let se=0,ae=0,le=0;if(A&&(le=l[fr],le===Q))throw new d(En);const fe=!0===re;i&&(i=new Yt(i),await tr(i),A?(l.uncompressedSize=le,se=Ln(le)):i.size===Q?(ee=!0,(re||re===Q)&&(re=!0,le=se=4294967296)):(l.uncompressedSize=le=i.size,se=Ln(le)));const{diskOffset:ce,diskNumber:ue,maxSize:de}=e.writer,he=fe||le>I,we=fe||se>I,pe=fe||e.offset+e.pendingEntriesSize-ce>I,ge=On(e,l,Br,!0)&&fe||ue+a.ceil(e.pendingEntriesSize/de)>D;if(pe||he||we||ge){if(!1===re||!B)throw new d(vn);re=!0}re=re||!1;const me=On(e,l,Sr),be=(e=>{const{rawFilename:t,lastModDate:r,lastAccessDate:n,creationDate:i,level:o,zip64:l,zipCrypto:f,useUnicodeFileNames:c,dataDescriptor:u,directory:d,rawExtraField:w,encryptionStrength:p,extendedTimestamp:g,passThrough:m,encrypted:b,zip64UncompressedSize:y,zip64CompressedSize:k,zip64Offset:S,zip64DiskNumberStart:z,uncompressedSize:_,offset:x,diskNumberStart:v}=e;let{version:E,compressionMethod:R}=e;const A=!d&&(o>0||o===Q&&0!==R);let C;const F=m||!A,N=l&&(e.bufferedWrite||!y&&!k||F);if(l){let e=4;y&&(e+=8),k&&(e+=8),S&&(e+=8),z&&(e+=4),C=new h(e);const t=Kn(C);if(Mn(t,0,1),Mn(t,2,Pn(C)-4),N){const e=Kn(C);let t=4;y&&(Vn(e,t,s(_)),t+=8),k&&F&&(Vn(e,t,s(_)),t+=8),S&&(Vn(e,t,s(x)),t+=8),z&&(Bn(e,t,v),t+=4)}}else C=new h;let I,D,O,L;if(b&&!f){I=new h(Pn(An)+2);const e=Kn(I);Mn(e,0,39169),$n(I,An,2),Un(e,8,p)}else I=new h;if(g){O=new h(9+(n?4:0)+(i?4:0));const e=Kn(O);Mn(e,0,K),Mn(e,2,Pn(O)-4),L=1+(n?2:0)+(i?4:0),Un(e,4,L);let t=5;Bn(e,t,a.floor(r.getTime()/1e3)),t+=4,n&&(Bn(e,t,a.floor(n.getTime()/1e3)),t+=4),i&&Bn(e,t,a.floor(i.getTime()/1e3));try{D=new h(36);const e=Kn(D),t=Tn(r);Mn(e,0,10),Mn(e,2,32),Mn(e,8,1),Mn(e,10,24),Vn(e,12,t),Vn(e,20,Tn(n)||t),Vn(e,28,Tn(i)||t)}catch{D=new h}}else D=O=new h;R===Q&&(R=A?8:0),l&&(E=E>45?E:45),b&&!f&&(E=E>51?E:51,I[9]=R,R=99);const U=N?Pn(C):0,M=U+Pn(I,O,D,w),{headerArray:B,headerView:V,rawLastModDate:$}=Wn({version:E,bitFlag:Hn(o,c,u,b,R),compressionMethod:R,uncompressedSize:_,lastModDate:q>r?q:r>Z?Z:r,rawFilename:t,zip64CompressedSize:k,zip64UncompressedSize:y,extraFieldLength:M});let P=H;const W=new h(P+Pn(t)+M),X=Kn(W);return Bn(X,0,T),$n(W,B,4),$n(W,t,P),P+=Pn(t),N&&$n(W,C,P),P+=U,$n(W,I,P),P+=Pn(I),$n(W,O,P),P+=Pn(O),$n(W,D,P),P+=Pn(D),$n(W,w,P),u&&(Bn(X,18,0),Bn(X,22,0)),{localHeaderArray:W,localHeaderView:X,headerArray:B,headerView:V,lastModDate:r,rawLastModDate:$,encrypted:b,compressed:A,version:E,compressionMethod:R,extraFieldExtendedTimestampFlag:L,rawExtraFieldZip64:C,localExtraFieldZip64Length:U,rawExtraFieldExtendedTimestamp:O,rawExtraFieldNTFS:D,rawExtraFieldAES:I,extraFieldLength:M}})(l=r.assign({},l,{rawFilename:y,rawComment:S,version:z,versionMadeBy:u,lastModDate:_,lastAccessDate:v,creationDate:E,rawExtraField:ne,zip64:re,zip64UncompressedSize:he,zip64CompressedSize:we,zip64Offset:pe,zip64DiskNumberStart:ge,password:C,rawPassword:F,level:j,useWebWorkers:V,encryptionStrength:N,extendedTimestamp:M,zipCrypto:U,bufferedWrite:$,keepOrder:B,useUnicodeFileNames:J,dataDescriptor:ee,dataDescriptorSignature:P,signal:X,msDosCompatible:f,internalFileAttribute:R,internalFileAttributes:R,externalFileAttribute:g,externalFileAttributes:g,useCompressionStream:Y,passThrough:A,encrypted:!!(C&&Pn(C)||F&&Pn(F))||A&&me,signature:l[Ar],compressionMethod:G,uncompressedSize:le,offset:e.offset-ce,diskNumberStart:ue})),ye=(({zip64:e,dataDescriptor:t,dataDescriptorSignature:r})=>{let n,i=new h,s=0,a=e?20:12;return r&&(a+=4),t&&(i=new h(a),n=Kn(i),r&&(s=4,Bn(n,0,L))),{dataDescriptorArray:i,dataDescriptorView:n,dataDescriptorOffset:s}})(l),ke=Pn(be.localHeaderArray,ye.dataDescriptorArray);let Se;ae=ke+se,e.options[$r]&&(ae+=ae+64),e.pendingEntriesSize+=ae;try{Se=await(async(e,n,i,a,o)=>{const{files:l,writer:f}=e,{keepOrder:u,dataDescriptor:w,signal:p}=o,{headerInfo:g}=a,m=e.options[$r],y=t.from(l.values()).pop();let k,S,z,_,v,E,R,A={};l.set(n,A);try{let t;u&&(t=y&&y.lock,A.lock=new b(e=>z=e)),!(o.bufferedWrite||e.writerLocked||e.bufferedWrites&&u)&&w||m?(E=f,await C()):(E=new x,E.size=0,k=!0,e.bufferedWrites++,await tr(f)),await tr(E);const{writable:S,diskOffset:N}=f;if(e.addSplitZipSignature){delete e.addSplitZipSignature;const t=new h(4);Bn(Kn(t),0,O),await Dn(f,t),e.offset+=4}m&&((e,t)=>{const{headerInfo:r}=e;let{localHeaderArray:n,extraFieldLength:i}=r,s=Kn(n),a=64-(t+Pn(n))%64;4>a&&(a+=64);const o=new h(a),l=Kn(o);Mn(l,0,6534),Mn(l,2,a-2);const f=n;r.localHeaderArray=n=new h(Pn(f)+a),$n(n,f),$n(n,o,Pn(f)),s=Kn(n),Mn(s,28,i+a),e.metadataSize+=a})(a,e.offset-N);const{localHeaderView:D,localHeaderArray:T}=g;k||(await t,await F(S));const{diskNumber:L}=f;v=!0,A.diskNumberStart=L,k?R=new c(E.readable).blob():await Dn(E,T),A=await(async(e,t,{diskNumberStart:n,lock:i},a,o,l)=>{const{headerInfo:f,dataDescriptorInfo:c,metadataSize:u}=a,{headerArray:d,headerView:h,lastModDate:w,rawLastModDate:p,encrypted:g,compressed:m,version:b,compressionMethod:y,rawExtraFieldZip64:k,localExtraFieldZip64Length:S,rawExtraFieldExtendedTimestamp:z,extraFieldExtendedTimestampFlag:_,rawExtraFieldNTFS:x,rawExtraFieldAES:v}=f,{dataDescriptorArray:E}=c,{rawFilename:R,lastAccessDate:A,creationDate:C,password:F,rawPassword:N,level:I,zip64:D,zip64UncompressedSize:T,zip64CompressedSize:O,zip64Offset:L,zip64DiskNumberStart:U,zipCrypto:M,dataDescriptor:B,directory:V,executable:$,versionMadeBy:K,rawComment:P,rawExtraField:W,useWebWorkers:H,onstart:Z,onprogress:q,onend:X,signal:J,encryptionStrength:G,extendedTimestamp:j,msDosCompatible:Y,internalFileAttributes:ee,externalFileAttributes:re,useCompressionStream:ne,passThrough:ie}=l,se={lock:i,versionMadeBy:K,zip64:D,directory:!!V,executable:!!$,filenameUTF8:!0,rawFilename:R,commentUTF8:!0,rawComment:P,rawExtraFieldZip64:k,localExtraFieldZip64Length:S,rawExtraFieldExtendedTimestamp:z,rawExtraFieldNTFS:x,rawExtraFieldAES:v,rawExtraField:W,extendedTimestamp:j,msDosCompatible:Y,internalFileAttributes:ee,externalFileAttributes:re,diskNumberStart:n};let{signature:ae,uncompressedSize:oe}=l,le=0;ie||(oe=0);const{writable:fe}=t;if(e){e.chunkSize=te(o);const r=e.readable,n=e.size,i={options:{codecType:lt,level:I,rawPassword:N,password:F,encryptionStrength:G,zipCrypto:g&&M,passwordVerification:g&&M&&p>>8&255,signed:!ie,compressed:m&&!ie,encrypted:g&&!ie,useWebWorkers:H,useCompressionStream:ne,transferStreams:!1},config:o,streamOptions:{signal:J,size:n,onstart:Z,onprogress:q,onend:X}};try{const e=await _t({readable:r,writable:fe},i);le=e.outputSize,t.size+=le,ie||(oe=e.inputSize,ae=e.signature)}catch(e){throw e.outputSize!==Q&&(t.size+=e.outputSize),e}}return(({signature:e,compressedSize:t,uncompressedSize:r,headerInfo:n,dataDescriptorInfo:i},{zip64:a,zipCrypto:o,dataDescriptor:l})=>{const{headerView:f,encrypted:c}=n,{dataDescriptorView:u,dataDescriptorOffset:d}=i;c&&!o||e===Q||(Bn(f,10,e),l&&Bn(u,d,e)),a?l&&(Vn(u,d+4,s(t)),Vn(u,d+12,s(r))):(Bn(f,14,t),Bn(f,18,r),l&&(Bn(u,d+4,t),Bn(u,d+8,r)))})({signature:ae,compressedSize:le,uncompressedSize:oe,headerInfo:f,dataDescriptorInfo:c},l),B&&await Dn(t,E),r.assign(se,{uncompressedSize:oe,compressedSize:le,lastModDate:w,rawLastModDate:p,creationDate:C,lastAccessDate:A,encrypted:g,zipCrypto:M,size:u+le,compressionMethod:y,version:b,headerArray:d,headerView:h,signature:ae,extraFieldExtendedTimestampFlag:_,zip64UncompressedSize:T,zip64CompressedSize:O,zip64Offset:L,zip64DiskNumberStart:U}),se})(i,E,A,a,e.config,o);const{zip64:U}=A;if(v=!1,l.set(n,A),A.filename=n,k){const[r]=await b.all([R,E.writable.getWriter().close(),t]);await C(),_=!0,A.diskNumberStart=f.diskNumber,A.offset=e.offset-f.diskOffset,U&&In(A),(({rawFilename:e,encrypted:t,zip64:r,localExtraFieldZip64Length:n,signature:i,compressedSize:a,uncompressedSize:o,offset:l,diskNumberStart:f,zip64UncompressedSize:c,zip64CompressedSize:u,zip64Offset:d,zip64DiskNumberStart:h},w,{dataDescriptor:p})=>{if(p||(t||Bn(w,14,i),r||(Bn(w,18,a),Bn(w,22,o))),r&&n){let t=H+Pn(e)+4;c&&(Vn(w,t,s(o)),t+=8),u&&(Vn(w,t,s(a)),t+=8),d&&(Vn(w,t,s(l)),t+=8),h&&Bn(w,t,f)}})(A,D,o),await F(S),await Dn(f,T),await r.stream().pipeTo(S,{preventClose:!0,preventAbort:!0,signal:p}),f.size+=E.size,_=!1}else A.offset=e.offset-N,U&&In(A);if(A.offset>I&&!U)throw new d(vn);return e.offset+=A.size,A}catch(t){if(k&&_||!k&&v){if(e.hasCorruptedEntries=!0,t)try{t.corruptedEntry=!0}catch{}k?e.offset+=E.size:e.offset=E.size}throw l.delete(n),t}finally{k&&e.bufferedWrites--,z&&z(),S&&S()}async function C(){e.writerLocked=!0;const{lockWriter:t}=e;e.lockWriter=new b(t=>S=()=>{e.writerLocked=!1,t()}),await t}async function F(e){Pn(g.localHeaderArray)>f.availableSize&&(f.availableSize=0,await Dn(e,new h))}})(e,n,i,{headerInfo:be,dataDescriptorInfo:ye,metadataSize:ke},l)}finally{e.pendingEntriesSize-=ae}return r.assign(Se,{name:n,comment:k,extraField:ie}),new Nr(Se)})(l,e,n,i),f.add(p),await p}catch(t){throw l.filenames.delete(e),t}finally{f.delete(p);const e=Fn.shift();e?e():Cn--}}remove(e){const{filenames:t,files:r}=this;if("string"==typeof e&&(e=r.get(e)),e&&e.filename!==Q){const{filename:n}=e;if(t.has(n)&&r.has(n))return t.delete(n),r.delete(n),!0}return!1}async close(e=new h,r={}){const{pendingAddFileCalls:n,writer:i}=this,{writable:o}=i;for(;n.size;)await b.allSettled(t.from(n));return await(async(e,r,n)=>{const{files:i,writer:o}=e,{diskOffset:l}=o;let{diskNumber:f}=o,c=0,u=0,w=e.offset-l,p=i.size;for(const[,e]of i){const{rawFilename:t,rawExtraFieldZip64:r,rawExtraFieldAES:n,rawComment:i,rawExtraFieldNTFS:s,rawExtraField:o,extendedTimestamp:l,extraFieldExtendedTimestampFlag:f,lastModDate:c}=e;let d;if(l){d=new h(9);const e=Kn(d);Mn(e,0,K),Mn(e,2,5),Un(e,4,f),Bn(e,5,a.floor(c.getTime()/1e3))}else d=new h;e.rawExtraFieldExtendedTimestamp=d,u+=46+Pn(t,i,r,n,s,d,o)}const g=new h(u),m=Kn(g);await tr(o);let b=0;for(const[e,r]of t.from(i.values()).entries()){const{offset:t,rawFilename:s,rawExtraFieldZip64:a,rawExtraFieldAES:l,rawExtraFieldExtendedTimestamp:f,rawExtraFieldNTFS:u,rawExtraField:d,rawComment:h,versionMadeBy:w,headerArray:p,headerView:y,zip64:k,zip64UncompressedSize:S,zip64CompressedSize:z,zip64DiskNumberStart:_,zip64Offset:x,internalFileAttributes:v,externalFileAttributes:E,diskNumberStart:R,uncompressedSize:A,compressedSize:C}=r,F=Pn(a,l,f,u,d);Bn(m,c,U),Mn(m,c+4,w),S||Bn(y,18,A),z||Bn(y,14,C),$n(g,p,c+6);let N=c+H;if(Mn(m,N,F),N+=2,Mn(m,N,Pn(h)),N+=2,Mn(m,N,k&&_?D:R),N+=2,Mn(m,N,v),N+=2,E&&Bn(m,N,E),N+=4,Bn(m,N,k&&x?I:t),N+=4,$n(g,s,N),N+=Pn(s),$n(g,a,N),N+=Pn(a),$n(g,l,N),N+=Pn(l),$n(g,f,N),N+=Pn(f),$n(g,u,N),N+=Pn(u),$n(g,d,N),N+=Pn(d),$n(g,h,N),c-b>o.availableSize&&(o.availableSize=0,await Dn(o,g.slice(b,c)),b=c),c=N,n.onprogress)try{await n.onprogress(e+1,i.size,new Nr(r))}catch{}}await Dn(o,b?g.slice(b):g);let y=o.diskNumber;const{availableSize:k}=o;$>k&&y++;let S=On(e,n,kr);if(w>I||u>I||p>D||y>D){if(!1===S)throw new d(vn);S=!0}const z=new h(S?98:$),_=Kn(z);c=0,S&&(Bn(_,0,B),Vn(_,4,s(44)),Mn(_,12,45),Mn(_,14,45),Bn(_,16,y),Bn(_,20,f),Vn(_,24,s(p)),Vn(_,32,s(p)),Vn(_,40,s(u)),Vn(_,48,s(w)),Bn(_,56,V),Vn(_,64,s(w)+s(u)),Bn(_,72,y+1),On(e,n,Br,!0)&&(y=D,f=D),p=D,w=I,u=I,c+=76),Bn(_,c,M),Mn(_,c+4,y),Mn(_,c+6,f),Mn(_,c+8,p),Mn(_,c+10,p),Bn(_,c+12,u),Bn(_,c+16,w);const x=Pn(r);if(x){if(x>D)throw new d(bn);Mn(_,c+20,x)}await Dn(o,z),x&&await Dn(o,r)})(this,e,r),On(this,r,Mr)||await o.getWriter().close(),i.getData?i.getData():o}}function In({compressedSize:e,uncompressedSize:t,offset:r,diskNumberStart:n,zip64UncompressedSize:i,zip64CompressedSize:a,zip64Offset:o,zip64DiskNumberStart:l,rawExtraFieldZip64:f}){const c=Kn(f);let u=4;i&&(Vn(c,u,s(t)),u+=8),a&&(Vn(c,u,s(e)),u+=8),o&&(Vn(c,u,s(r)),u+=8),l&&Bn(c,u,n)}async function Dn(e,t){const{writable:r}=e,n=r.getWriter();try{await n.ready,e.size+=Pn(t),await n.write(t)}finally{n.releaseLock()}}function Tn(e){if(e)return(s(e.getTime())+s(116444736e5))*s(1e4)}function On(e,t,r,n){const i=t[r]===Q?e.options[r]:t[r];return i===Q?n:i}function Ln(e){return e+5*(a.floor(e/16383)+1)}function Un(e,t,r){e.setUint8(t,r)}function Mn(e,t,r){e.setUint16(t,r,!0)}function Bn(e,t,r){e.setUint32(t,r,!0)}function Vn(e,t,r){e.setBigUint64(t,r,!0)}function $n(e,t,r){e.set(t,r)}function Kn(e){return new g(e.buffer)}function Pn(...e){let t=0;return e.forEach(e=>e&&(t+=e.length)),t}function Wn({version:e,bitFlag:t,compressionMethod:r,uncompressedSize:n,compressedSize:i,lastModDate:s,rawFilename:a,zip64CompressedSize:o,zip64UncompressedSize:l,extraFieldLength:f}){const c=new h(26),u=Kn(c);Mn(u,0,e),Mn(u,2,t),Mn(u,4,r);const d=new p(1),w=Kn(d);Mn(w,0,(s.getHours()<<6|s.getMinutes())<<5|s.getSeconds()/2),Mn(w,2,(s.getFullYear()-1980<<4|s.getMonth()+1)<<5|s.getDate());const g=d[0];return Bn(u,6,g),(o||i!==Q)&&Bn(u,14,o?I:i),(l||n!==Q)&&Bn(u,18,l?I:n),Mn(u,22,Pn(a)),Mn(u,24,f),{headerArray:c,headerView:u,rawLastModDate:g}}function Hn(e,t,r,n,i){let s=0;return t&&(s|=P),r&&(s|=8),8!=i&&9!=i||(0>e||e>3||(s|=6),e>3&&5>=e&&(s|=4),9==e&&(s|=2)),n&&(s|=1),s}try{re({baseURI:void 0===S&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:void 0===S?location.href:N&&"SCRIPT"===N.tagName.toUpperCase()&&N.src||new u("zip-native.min.js",S.baseURI).href})}catch{}var{Uint8Array:Zn,Uint16Array:qn,Int32Array:Qn,TransformStream:Xn,Math:Jn,Error:Gn,Array:jn}=globalThis,Yn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ei=new Zn(0),ti=new qn(0),ri=class{constructor(e,t){this.t=e,this.i=t,this._=0}},ni=class{constructor(e,t,r,n,i){this.l=e,this.o=t,this.u=r,this.h=n,this.k=i}};function ii(e,t,r,n,i){if(0==i)return;let s=e instanceof Zn?e:new Zn(e.buffer,e.byteOffset,e.byteLength),a=r instanceof Zn?r.subarray(n,n+i):new Zn(r.buffer,r.byteOffset+n,i);s.set(a,t)}function si(e,t,r){0!=r&&(e instanceof Zn?e:new Zn(e.buffer,e.byteOffset,e.byteLength)).fill(0,t,t+r)}function ai(){return{next_in:ei,next_in_index:0,avail_in:0,total_in:0,next_out:ei,next_out_index:0,avail_out:0,total_out:0,msg:"",m:0,v:0,p:0,A:void 0}}function oi(e,t){let r=1<<t;return{O:e,M:new Zn(r),F:r,D:t,q:0,C:0,N:0,S:0}}function li(e){return Oi[-6>e||e>2?9:2-e]||""}function fi(e,t){try{e.msg=li(t)}catch(r){e.msg="zlib error "+n(t)+" ("+r+")"}return t}function ci(e,t){let r=e>>>0,n=0;for(let e=0;t>e;e++)n=n<<1|1&r,r>>>=1;return n}function ui(e,t){e.X[e.V++]=t}function di(e,t){ui(e,255&t),ui(e,t>>>8&255)}function hi(e,t,r){let n=255&r,i=65535&t,s=e.T+e.U;return e.X[s]=255&i,e.X[s+1]=i>>>8&255,e.X[s+2]=n,e.U+=3,i=i-1&65535,e.B[Zi[n]+Ri+1].$++,e.I[gi(i)].$++,e.U==e.Z}function wi(e,t){let r=255&t,n=e.T+e.U;return e.X[n]=0,e.X[n+1]=0,e.X[n+2]=r,e.U+=3,e.B[r].$++,e.U==e.Z}function pi(e){return e.F-vi}function gi(e){return 256>e?qi[e]:qi[256+(e>>7)]}function mi(e){let t=zi+7,r=1<<t,n=(1<<t)-1,i=Jn.floor((t+_i-1)/_i),s=1<<8+zi;return{...oi(e,15),O:e,H:42,L:0,K:void 0,W:32767,J:t,R:r,Y:n,j:i,P:new qn(32768),G:new qn(r),ee:s,X:new Zn(32768),te:0,ne:32768,V:0,re:0,ie:0,fe:0,_e:0,le:0,oe:-2,ue:0,ae:0,ce:0,se:0,de:0,he:0,we:0,ke:0,ge:0,be:0,me:0,xe:0,ve:0,ye:0,pe:new Qn(2*Ai+1),ze:new Zn(2*Ai+1),Ae:new qn(Ii+1),U:0,Z:0,Oe:ei,T:0,Me:0,Fe:0,De:8,qe:32768,Ce:0,Ne:0,Se:0,B:new jn(Ni).fill(0).map(()=>({$:0,Qe:0,Ee:0,$e:0})),I:new jn(2*Ci+1).fill(0).map(()=>({$:0,Qe:0,Ee:0,$e:0})),Xe:new jn(2*Fi+1).fill(0).map(()=>({$:0,Qe:0,Ee:0,$e:0})),Ve:ki(),Te:ki(),Ue:ki()}}function bi(e){let t=[];for(let r=0;r<e.length;r+=2){let n=e[r],i=e[r+1],s=yi();s.Qe=n,s.$e=i,t.push(s)}return t}function yi(){return{$:0,Qe:0,Ee:0,$e:0}}function ki(){return new ri([],new ni(null,ei,0,0,0))}function Si(e){let{code:t,length:r}=(e=>{let t=Jn.max(...e),r=new jn(t+1).fill(0);for(let t of e)t>0&&r[t]++;let n=new jn(e.length).fill(0),i=new jn(t+1).fill(0),s=0;for(let e=1;t>=e;e++)s=s+r[e-1]<<1,i[e]=s;for(let t=0;t<e.length;t++){let r=e[t];0!=r&&(n[t]=i[r]++)}return{code:n,length:e}})(e),n=new jn(2*e.length),i=0;for(let s=0;s<e.length;s++){let e=r[s]||0,a=t[s]||0;n[i++]=e?ci(a,e):0,n[i++]=e}return new Qn(n)}var zi=8,_i=3,xi=258,vi=xi+_i+1,Ei=xi,Ri=256,Ai=Ri+1+29,Ci=30,Fi=19,Ni=2*Ai+1,Ii=15,Di=256,Ti=-1,Oi=["need dictionary","stream end","","file error","stream error","data error","insufficient memory","buffer error",""],Li=new Qn([0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0]),Ui=new Qn([0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576]),Mi=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Bi=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Vi=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$i=((e,t)=>{let r=0;for(let n=0;n<e.length;n++){let i=t[n]?1<<t[n]:1,s=e[n]+i-1;s>r&&(r=s)}let n=new Zn(r+1);for(let i=0;r>=i;i++)for(let r=0;r<e.length;r++){let s=t[r]?1<<t[r]:1,a=e[r];if(i>=a&&a+s-1>=i){n[i]=r;break}}return n})(Ui,Bi),Ki=Si((()=>{let e=new jn(288).fill(0);for(let t=0;143>=t;t++)e[t]=8;for(let t=144;255>=t;t++)e[t]=9;for(let t=256;279>=t;t++)e[t]=7;for(let t=280;287>=t;t++)e[t]=8;return e})()),Pi=Si(new jn(30).fill(5)),Wi=bi(Ki),Hi=bi(Pi),Zi=((e,t)=>{let r=0;for(let n=0;n<e.length;n++){let i=t[n]?1<<t[n]:1,s=e[n]+i-1;s>r&&(r=s)}258>r&&(r=258);let n=new Zn(r+1);for(let i=0;r>=i;i++)for(let r=0;r<e.length;r++){let s=t[r]?1<<t[r]:1,a=e[r];if(i>=a&&a+s-1>=i){n[i]=r;break}}return n})(Li,Mi),qi=(e=>{let t=new Zn(512),r=e.length-1;for(let n=0;256>n;n++)t[n]=n>r?e[r]:e[n];for(let n=256;r>=n;n++){let r=n>>7;t[256+(r>255?255:r)]=e[n]}for(let e=257;512>e;e++)0==t[e]&&(t[e]=t[e-1]);return t})($i);function Qi(e){return e%65521>>>0}function Xi(e,t,r){if(void 0===t||void 0===r)return 1;let n=e>>>16&65535;if(e&=65535,1==r)return(e+=t[0])>=65521&&(e-=65521),n+=e,n>=65521&&(n-=65521),(n<<16|e)>>>0;if(16>r){for(let i=0;r>i;i++)n+=e+=t[i];return e>=65521&&(e-=65521),n=Qi(n),(n<<16|e)>>>0}for(;r>=5552;){r-=5552;let i=Jn.floor(347);do{for(let r=0;16>r;r++)n+=e+=t[r];t=t.subarray(16)}while(--i);e=Qi(e),n=Qi(n)}if(r){for(;r>=16;){r-=16;for(let r=0;16>r;r++)n+=e+=t[r];t=t.subarray(16)}for(let i=0;r>i;i++)n+=e+=t[i];e=Qi(e),n=Qi(n)}return(n<<16|e)>>>0}var Ji=(()=>{let e=new jn(256);for(let t=0;256>t;t++){let r=t;for(let e=0;8>e;e++)r=1&r?3988292384^r>>>1:r>>>1;e[t]=r>>>0}return e})();function Gi(e=0,t,r){if(!t)return 0;void 0===r&&(r=t.length),r=Jn.min(r,t.length),e=~e>>>0;for(let n=0;r>n;n++)e=e>>>8^Ji[255&(e^t[n])];return(4294967295^e)>>>0}function ji(e){16==e.S?(di(e,e.N),e.N=0,e.S=0):e.S>=8&&(ui(e,e.N),e.N>>=8,e.S-=8)}function Yi(e){e.S>8?di(e,e.N):e.S>0&&ui(e,e.N),e.Me=1+(e.S-1&7),e.N=0,e.S=0}function es(e,t,r){e.S>16-r?(e.N=65535&(e.N|t<<e.S),di(e,e.N),e.N=t>>16-e.S&65535,e.S+=r-16):(e.N=65535&(e.N|t<<e.S),e.S+=r)}function ts(e){for(let t=0;t<e.B.length;t++)e.B[t].$=0;for(let t=0;t<e.I.length;t++)e.I[t].$=0;for(let t=0;t<e.Xe.length;t++)e.Xe[t].$=0;e.B[Di].$=1,e.ie=e.fe=0,e.U=e._e=0}function rs(e,t,r){return r=e.pe[1],e.pe[1]=e.pe[e.Ne--],is(e,t,1),r}function ns(e,t,r,n){return e[t].$<e[r].$||e[t].$==e[r].$&&n[t]<=n[r]}function is(e,t,r){let n=e.pe[r],i=r<<1;for(;i<=e.Ne&&(i<e.Ne&&ns(t,e.pe[i+1],e.pe[i],e.ze)&&i++,!ns(t,n,e.pe[i],e.ze));)e.pe[r]=e.pe[i],r=i,i<<=1;e.pe[r]=n}function ss(e,t){let r,n,i,s=t.t,a=t.i.l,o=t.i.h,l=-1;for(e.Ne=0,e.Se=Ni,r=0;o>r;r++)0!=s[r].$?(e.pe[++e.Ne]=l=r,e.ze[r]=0):s[r].$e=0;for(;2>e.Ne;)i=e.pe[++e.Ne]=2>l?++l:0,s[i].$=1,e.ze[i]=0,e.ie--,a&&(e.fe-=a[i].$e);for(t._=l,r=Jn.floor(e.Ne/2);r>=1;r--)is(e,s,r);i=o;do{r=rs(e,s,r),n=e.pe[1],e.pe[--e.Se]=r,e.pe[--e.Se]=n,s[i].$=s[r].$+s[n].$,e.ze[i]=(e.ze[r]<e.ze[n]?e.ze[n]:e.ze[r])+1,s[r].Ee=s[n].Ee=i,e.pe[1]=i++,is(e,s,1)}while(e.Ne>=2);e.pe[--e.Se]=e.pe[1],((e,t)=>{let r,n,i,s,a,o,l=t.t,f=t._,c=t.i.l,u=t.i.o,d=t.i.u,h=t.i.k,w=0;for(s=0;Ii>=s;s++)e.Ae[s]=0;for(l[e.pe[e.Se]].$e=0,r=e.Se+1;Ni>r;r++)n=e.pe[r],s=l[l[n].Ee].$e+1,s>h&&(s=h,w++),l[n].$e=s,f>=n&&(e.Ae[s]++,a=0,n>=d&&(a=u[n-d]),o=l[n].$,e.ie+=o*(s+a),c&&(e.fe+=o*(c[n].$e+a)));if(0!=w){do{for(s=h-1;0==e.Ae[s];)s--;e.Ae[s]--,e.Ae[s+1]+=2,e.Ae[h]--,w-=2}while(w>0);for(s=h;0!=s;s--)for(n=e.Ae[s];0!=n;)i=e.pe[--r],f>=i&&(l[i].$e!=s&&(e.ie+=(s-l[i].$e)*l[i].$,l[i].$e=s),n--)}})(e,t),((e,t,r)=>{let n,i,s=[],a=0;for(n=1;Ii>=n;n++)a=a+r[n-1]<<1,s[n]=a;for(i=0;t>=i;i++){let t=e[i].$e;0!=t&&(e[i].Qe=ci(s[t]++,t))}})(s,t._,e.Ae)}function as(e,t,r){let n,i,s=-1,a=t[0].$e,o=0,l=7,f=4;for(0==a&&(l=138,f=3),t[r+1].$e=65535,n=0;r>=n;n++)i=a,a=t[n+1].$e,(++o>=l||i!=a)&&(f>o?e.Xe[i].$+=o:0!=i?(i!=s&&e.Xe[i].$++,e.Xe[16].$++):o>10?e.Xe[18].$++:e.Xe[17].$++,o=0,s=i,0==a?(l=138,f=3):i==a?(l=6,f=3):(l=7,f=4))}function os(e,t,r){let n,i=-1,s=t[0].$e,a=0,o=7,l=4;0==s&&(o=138,l=3);for(let f=0;r>=f;f++)if(n=s,s=t[f+1].$e,++a>=o||n!=s){if(l>a)do{es(e,e.Xe[n].Qe,e.Xe[n].$e)}while(0!=--a);else 0!=n?(n!=i&&(es(e,e.Xe[n].Qe,e.Xe[n].$e),a--),es(e,e.Xe[16].Qe,e.Xe[16].$e),es(e,a-3,2)):a>10?(es(e,e.Xe[18].Qe,e.Xe[18].$e),es(e,a-11,7)):(es(e,e.Xe[17].Qe,e.Xe[17].$e),es(e,a-3,3));a=0,i=n,0==s?(o=138,l=3):n==s?(o=6,l=3):(o=7,l=4)}}function ls(e,t,r,n,i=0){es(e,0+n,3),Yi(e),di(e,r),di(e,~r),r&&t&&ii(e.X,e.V,t,i,r),e.V+=r}function fs(e,t,r){let n,i,s,a,o=0;if(0!=e.U)do{n=255&e.Oe[o],n+=(255&e.Oe[o+1])<<8,i=e.Oe[o+2],o+=3,0==n?es(e,t[i].Qe,t[i].$e):(s=Zi[i],es(e,t[s+Ri+1].Qe,t[s+Ri+1].$e),a=Mi[s],0!=a&&(i-=Li[s],es(e,i,a)),n--,s=gi(n),es(e,r[s].Qe,r[s].$e),a=Bi[s],0!=a&&(n-=Ui[s],es(e,n,a)))}while(o<e.U);es(e,t[Di].Qe,t[Di].$e)}var cs=[{Be:Cs,Ie:0,Ze:0,He:0,Le:0},{Be:Fs,Ie:4,Ze:4,He:8,Le:4},{Be:Fs,Ie:5,Ze:5,He:16,Le:8},{Be:Fs,Ie:6,Ze:16,He:32,Le:32},{Be:Ns,Ie:4,Ze:4,He:16,Le:16},{Be:Ns,Ie:16,Ze:8,He:16,Le:32},{Be:Ns,Ie:16,Ze:16,He:32,Le:128},{Be:Ns,Ie:32,Ze:32,He:128,Le:256},{Be:Ns,Ie:128,Ze:128,He:256,Le:1024},{Be:Ns,Ie:258,Ze:258,He:258,Le:4096}];function us(e){return 2*e-(e>4?9:0)}function ds(e,t,r){return((t<<e.j^r)&e.Y)>>>0}function hs(e,t){e.ke=ds(e,e.ke,e.M[t+(_i-1)]);let r=e.P[t&e.W]=e.G[e.ke];return e.G[e.ke]=t,r}function ws(e){e.G[e.R-1]=0,si(e.G,0,(e.R-1)*e.G.BYTES_PER_ELEMENT)}function ps(e){let t,r,n=e.F;for(t=e.R;t>0;)t--,r=e.G[t],e.G[t]=n>r?0:r-n;for(t=n;t>0;)t--,r=e.P[t],e.P[t]=n>r?0:r-n}function gs(e,t,r,n){let i=e.avail_in;return i>n&&(i=n),0==i?0:(e.avail_in-=i,ii(t,r,e.next_in,e.next_in_index,i),1==e.A.L?e.v=Xi(e.v,new Zn(t.buffer,t.byteOffset+r,i),i):2==e.A.L&&(e.v=Gi(e.v,new Zn(t.buffer,t.byteOffset+r,i),i)),e.next_in_index+=i,e.total_in+=i,i)}function ms(e){let t,r,n=e.F;do{if(r=e.qe-e.ce-e.ae,0==r&&0==e.ae&&0==e.ce?r=n:-1==r&&r--,e.ae>=n+pi(e)&&(ii(e.M,0,e.M,n,n-r),e.Ce-=n,e.ae-=n,e.ue-=n,e.le>e.ae&&(e.le=e.ae),ps(e),r+=n),0==e.O.avail_in)break;if(t=gs(e.O,e.M,e.ae+e.ce,r),e.ce+=t,e.ce+e.le>=_i){let t=e.ae-e.le;for(e.ke=e.M[t],e.ke=ds(e,e.ke,e.M[t+1]);e.le&&(e.ke=ds(e,e.ke,e.M[t+_i-1]),e.P[t&e.W]=e.G[e.ke],e.G[e.ke]=t,t++,e.le--,e.ce+e.le>=_i););}}while(e.ce<vi&&0!=e.O.avail_in);if(e.q<e.qe){let t,r=e.ae+e.ce;e.q<r?(t=e.qe-r,t>Ei&&(t=Ei),si(e.M,r,t),e.q=r+t):e.q<r+Ei&&(t=r+Ei-e.q,t>e.qe-e.q&&(t=e.qe-e.q),si(e.M,e.q,t),e.q+=t)}}function bs(e){if(null==e)return!0;let t=e.A;return!t||t.O!=e||42!=t.H&&57!=t.H&&69!=t.H&&73!=t.H&&91!=t.H&&103!=t.H&&113!=t.H&&666!=t.H}function ys(e,t){ui(e,t>>8),ui(e,255&t)}function ks(e){let t,r=e.A;(e=>{ji(e)})(r),t=r.V,t>e.avail_out&&(t=e.avail_out),0!=t&&(ii(e.next_out,e.next_out_index,r.X,r.re,t),e.next_out_index+=t,r.re+=t,e.total_out+=t,e.avail_out-=t,r.V-=t,0==r.V&&(r.re=r.te))}function Ss(e,t){let r=e.A;r.K&&r.K.Ke&&(e.v=Gi(e.v,new Zn(r.X.buffer,r.te+t,r.V-t),r.V-t))}function zs(e,t){let r,n=e.A;if(bs(e)||t>5||0>t)return fi(e,-2);if(!e.next_out||0!=e.avail_in&&!e.next_in||666==n.H&&4!=t)return fi(e,-2);if(0==e.avail_out)return fi(e,-5);if(r=n.oe,n.oe=t,0!=n.V){if(ks(e),0==e.avail_out)return n.oe=Ti,0}else if(0==e.avail_in&&us(t)<=us(r)&&4!=t)return fi(e,-5);if(666==n.H&&0!=e.avail_in)return fi(e,-5);if(42==n.H&&0==n.L&&(n.H=113),42==n.H){let t,r=8+(n.D-8<<4)<<8;if(t=n.be>=2||2>n.ge?0:6>n.ge?1:6==n.ge?2:3,r|=t<<6,0!=n.ae&&(r|=32),r+=31-r%31,ys(n,r),0!=n.ae&&(ys(n,e.v>>16),ys(n,65535&e.v)),e.v=1,n.H=113,ks(e),0!=n.V)return n.oe=Ti,0}if(57==n.H)if(e.v=Gi(0),ui(n,31),ui(n,139),ui(n,8),n.K)ui(n,(n.K.We?1:0)+(n.K.Ke?2:0)+(null==n.K.Je?0:4)+(null==n.K.Re?0:8)+(null==n.K.Ye?0:16)),ui(n,255&n.K.je),ui(n,n.K.je>>>8&255),ui(n,n.K.je>>>16&255),ui(n,n.K.je>>>24&255),ui(n,9==n.ge?2:n.be>=2||2>n.ge?4:0),ui(n,255&n.K.Pe),null!=n.K.Je&&(ui(n,255&n.K.Ge),ui(n,n.K.Ge>>>8&255)),n.K.Ke&&(e.v=Gi(e.v,n.X,n.V)),n.Fe=0,n.H=69;else if(ui(n,0),ui(n,0),ui(n,0),ui(n,0),ui(n,0),ui(n,9==n.ge?2:n.be>=2||2>n.ge?4:0),ui(n,255),n.H=113,ks(e),0!=n.V)return n.oe=Ti,0;if(69==n.H){if(n.K&&null!=n.K.Je){let t=n.V,r=(65535&n.K.Ge)-n.Fe;for(;n.V+r>n.ne;){let i=n.ne-n.V;if(ii(n.X,n.V,n.K.Je,n.Fe,i),n.V=n.ne,Ss(e,t),n.Fe+=i,ks(e),0!=n.V)return n.oe=Ti,0;t=0,r-=i}ii(n.X,n.V,n.K.Je,n.Fe,r),n.V+=r,Ss(e,t),n.Fe=0}n.H=73}if(73==n.H){if(n.K&&n.K.Re&&n.K.Re.length){let t,r=n.V;do{if(n.V==n.ne){if(Ss(e,r),ks(e),0!=n.V)return n.oe=Ti,0;r=0}t=n.K.Re[n.Fe++],ui(n,t)}while(0!=t);Ss(e,r),n.Fe=0}n.H=91}if(91==n.H){if(n.K&&n.K.Ye&&n.K.Ye.length){let t,r=n.V;do{if(n.V==n.ne){if(Ss(e,r),ks(e),0!=n.V)return n.oe=Ti,0;r=0}t=n.K.Ye[n.Fe++],ui(n,t)}while(0!=t);Ss(e,r)}n.H=103}if(103==n.H){if(n.K&&n.K.Ke){if(n.V+2>n.ne&&(ks(e),0!=n.V))return n.oe=Ti,0;ui(n,255&e.v),ui(n,e.v>>>8&255),e.v=Gi(0)}if(n.H=113,ks(e),0!=n.V)return n.oe=Ti,0}if(0!=e.avail_in||0!=n.ce||0!=t&&666!=n.H){let r=0==n.ge?Cs(n,t):2==n.be?((e,t)=>{let r=!1;for(;;){if(0==e.ce&&(ms(e),0==e.ce)){if(0==t)return 0;break}if(e.se=0,r=wi(e,e.M[e.ae]),e.ce--,e.ae++,r){let t=Es(e,!1);if(null!=t)return t}}if(e.le=0,4==t)return Es(e,!0)??3;if(e.U){let t=Es(e,!1);if(null!=t)return t}return 1})(n,t):3==n.be?((e,t)=>{let r,n,i,s;for(;;){if(e.ce<=xi){if(ms(e),e.ce<=xi&&0==t)return 0;if(0==e.ce)break}if(e.se=0,e.ce>=_i&&e.ae>0&&(i=e.ae-1,n=e.M[i],n==++i&&n==++i&&n==++i)){s=e.ae+xi;do{}while(n==++i&&n==++i&&n==++i&&n==++i&&n==++i&&n==++i&&n==++i&&n==++i&&s>i);e.se=xi-(s-i),e.se>e.ce&&(e.se=e.ce)}if(e.se<_i?(r=wi(e,e.M[e.ae]),e.ce--,e.ae++):(e.ae,e.ae,e.se,r=hi(e,1,e.se-_i),e.ce-=e.se,e.ae+=e.se,e.se=0),r){let t=Es(e,!1);if(null!=t)return t}}if(e.le=0,4==t)return Es(e,!0)??3;if(e.U){let t=Es(e,!1);if(null!=t)return t}return 1})(n,t):cs[n.ge].Be(n,t);if((2==r||3==r)&&(n.H=666),0==r||2==r)return 0==e.avail_out&&(n.oe=Ti),0;if(1==r&&(1==t?(e=>{es(e,2,3),es(e,Wi[Di].Qe,Wi[Di].$e),ji(e)})(n):5!=t&&(ls(n,null,0,0),3==t&&(ws(n),0==n.ce&&(n.ae=0,n.ue=0,n.le=0))),ks(e),0==e.avail_out))return n.oe=Ti,0}return 4!=t?0:n.L>0?(2==n.L?(ui(n,255&e.v),ui(n,e.v>>>8&255),ui(n,e.v>>>16&255),ui(n,e.v>>>24&255),ui(n,255&e.total_in),ui(n,e.total_in>>>8&255),ui(n,e.total_in>>>16&255),ui(n,e.total_in>>>24&255)):(ys(n,e.v>>>16&65535),ys(n,65535&e.v)),ks(e),n.L>0&&(n.L=-n.L),0!=n.V?0:1):1}function _s(e){if(bs(e))return-2;let t=e.A,r=t.H;return t.M=ei,t.P=ti,t.G=ti,t.X=ei,t.Oe=ei,t.pe=new Qn(0),t.ze=ei,t.Ae=ti,t.B.length=0,t.I.length=0,t.Xe.length=0,t.K=void 0,t.te=0,t.re=0,t.T=0,113==r?-3:0}function xs(e,t){let r,n,i=e.ve,s=e.ae,a=e.de,o=e.xe,l=e.ae>pi(e)?e.ae-pi(e):0,f=e.P,c=e.W,u=e.M[s],d=e.M[s+1],h=e.M[s+a-1],w=e.M[s+a];e.de>=e.me&&(i>>=2),o>e.ce&&(o=e.ce);do{if(r=t,e.M[r+a]!=w||e.M[r+a-1]!=h||e.M[r]!=u||e.M[r+1]!=d)continue;let i=Jn.min(xi,e.ce),l=2;for(;i>l&&e.M[s+l]==e.M[r+l];)l++;if(n=l,n>a){if(e.Ce=t,a=n,n>=o)break;h=e.M[s+a-1],w=e.M[s+a]}}while((t=f[t&c])>l&&0!=--i);return a>e.ce?e.ce:a}function vs(e,t){((e,t,r,n,i=0)=>{let s,a,o=0;e.ge>0?(2==e.O.m&&(e.O.m=(e=>{let t,r=4093624447;for(t=0;31>=t;t++,r>>=1)if(1&r&&0!=e.B[t].$)return 0;if(0!=e.B[9].$||0!=e.B[10].$||0!=e.B[13].$)return 1;for(t=32;Ri>t;t++)if(0!=e.B[t].$)return 1;return 0})(e)),ss(e,e.Ve),ss(e,e.Te),o=(e=>{let t;for(as(e,e.B,e.Ve._),as(e,e.I,e.Te._),ss(e,e.Ue),t=Fi-1;t>=3&&0==e.Xe[Yn[t]].$e;t--);return e.ie+=3*(t+1)+5+5+4,t})(e),s=e.ie+3+7>>3,a=e.fe+3+7>>3,(s>=a||4==e.be)&&(s=a)):s=a=r+5,s>=r+4&&t?ls(e,t,r,n,i):a==s?(es(e,2+n,3),fs(e,Wi,Hi)):(es(e,4+n,3),((e,t,r,n)=>{let i;for(es(e,t-257,5),es(e,r-1,5),es(e,n-4,4),i=0;n>i;i++)es(e,e.Xe[Yn[i]].$e,3);os(e,e.B,t-1),os(e,e.I,r-1)})(e,e.Ve._+1,e.Te._+1,o+1),fs(e,e.B,e.I)),ts(e),n&&Yi(e)})(e,e.M,e.ae-e.ue,t,e.ue),e.ue=e.ae,ks(e.O)}function Es(e,t){return vs(e,t?1:0),0==e.O.avail_out?t?2:0:null}var Rs=65535;function As(e,t){return t>e?e:t}function Cs(e,t){let r,n,i,s=As(e.ne-5,e.F),a=0,o=e.O.avail_in;do{if(r=Rs,i=e.S+42>>3,e.O.avail_out<i||(i=e.O.avail_out-i,n=e.ae-e.ue,r>n+e.O.avail_in&&(r=n+e.O.avail_in),r>i&&(r=i),s>r&&(0==r&&4!=t||0==t||r!=n+e.O.avail_in)))break;a=4==t&&r==n+e.O.avail_in?1:0,ls(e,null,0,a),e.X[e.V-4]=r,e.X[e.V-3]=r>>8,e.X[e.V-2]=~r,e.X[e.V-1]=~r>>8,ks(e.O),n&&(n>r&&(n=r),ii(e.O.next_out,e.O.next_out_index,e.M,e.ue,n),e.O.next_out_index+=n,e.O.avail_out-=n,e.O.total_out+=n,e.ue+=n,r-=n),r&&(gs(e.O,e.O.next_out,e.O.next_out_index,r),e.O.next_out_index+=r,e.O.avail_out-=r,e.O.total_out+=r)}while(0==a);if(o-=e.O.avail_in,o){if(o<e.F)e.qe-e.ae<=o&&(e.ae-=e.F,ii(e.M,0,e.M,e.F,e.ae),2>e._e&&e._e++,e.le>e.ae&&(e.le=e.ae)),ii(e.M,e.ae,e.O.next_in,e.O.next_in_index-o,o),e.ae+=o,e.le+=As(o,e.F-e.le);else{e._e=2;let t=e.O.next_in_index-e.F;ii(e.M,0,e.O.next_in,t,e.F),e.ae=e.F,e.le=e.ae}e.ue=e.ae}return e.q<e.ae&&(e.q=e.ae),a?(e.Me=8,3):0!=t&&4!=t&&0==e.O.avail_in&&e.ae==e.ue?1:(i=e.qe-e.ae,e.O.avail_in>i&&e.ue>=e.F&&(e.ue-=e.F,e.ae-=e.F,ii(e.M,0,e.M,e.F,e.ae),2>e._e&&e._e++,i+=e.F,e.le>e.ae&&(e.le=e.ae)),i>e.O.avail_in&&(i=e.O.avail_in),i&&(gs(e.O,e.M,e.ae,i),e.ae+=i,e.le+=As(i,e.F-e.le)),e.q<e.ae&&(e.q=e.ae),i=e.S+42>>3,i=As(e.ne-i,Rs),s=As(i,e.F),n=e.ae-e.ue,(n>=s||(n||4==t)&&0!=t&&0==e.O.avail_in&&i>=n)&&(r=As(n,i),a=4==t&&0==e.O.avail_in&&r==n?1:0,ls(e,e.M,r,a,e.ue),e.ue+=r,ks(e.O)),a&&(e.Me=8),a?2:0)}function Fs(e,t){let r,n=!1;for(;;){if(e.ce<vi){if(ms(e),e.ce<vi&&0==t)return 0;if(0==e.ce)break}if(r=0,e.ce>=_i&&(r=hs(e,e.ae)),0!=r&&e.ae-r<=pi(e)&&(e.se=xs(e,r)),e.se<_i)n=wi(e,e.M[e.ae]),e.ce--,e.ae++;else if(e.ae,e.Ce,e.se,n=hi(e,e.ae-e.Ce,e.se-_i),e.ce-=e.se,e.se>e.ye||e.ce<_i)e.ae+=e.se,e.se=0,e.ke=e.M[e.ae],e.ke=ds(e,e.ke,e.M[e.ae+1]);else{e.se--;do{e.ae++,r=hs(e,e.ae)}while(0!=--e.se);e.ae++}if(n){let t=Es(e,!1);if(null!=t)return t}}if(e.le=e.ae<_i-1?e.ae:_i-1,4==t)return Es(e,!0)??3;if(e.U){let t=Es(e,!1);if(null!=t)return t}return 1}function Ns(e,t){let r,n=!1;for(;;){if(e.ce<vi){if(ms(e),e.ce<vi&&0==t)return 0;if(0==e.ce)break}if(r=0,e.ce>=_i&&(r=hs(e,e.ae)),e.de=e.se,e.he=e.Ce,e.se=_i-1,0!=r&&e.de<e.ye&&e.ae-r<=pi(e)&&(e.se=xs(e,r),5>=e.se&&1==e.be&&(e.se=_i-1)),e.de<_i||e.se>e.de)if(e.we){if(n=wi(e,e.M[e.ae-1]),n&&vs(e,0),e.ae++,e.ce--,0==e.O.avail_out)return 0}else e.we=1,e.ae++,e.ce--;else{let t=e.ae+e.ce-_i;e.ae,e.he,e.de,n=hi(e,e.ae-1-e.he,e.de-_i),e.ce-=e.de-1,e.de-=2;do{++e.ae<=t&&(r=hs(e,e.ae))}while(0!=--e.de);if(e.we=0,e.se=_i-1,e.ae++,n){let t=Es(e,!1);if(null!=t)return t}}}if(e.we&&(n=wi(e,e.M[e.ae-1]),e.we=0),e.le=e.ae<_i-1?e.ae:_i-1,4==t)return Es(e,!0)??3;if(e.U){let t=Es(e,!1);if(null!=t)return t}return 1}var Is=new qn([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ds=Vs([16,8,17,4,18,4,19,4,20,4,21,4,16,1,73,1,200,1]),Ts=new qn([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Os=Vs([16,4,17,2,18,2,19,2,20,2,21,2,22,2,23,2,24,2,25,2,26,2,27,2,28,2,29,2,64,2]),Ls=new qn([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,3,0,0]),Us=Vs([128,8,129,4,130,4,131,4,132,4,133,4,16,1,73,1,200,1]),Ms=new qn([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,32769,49153]),Bs=Vs([128,4,129,2,130,2,131,2,132,2,133,2,134,2,135,2,136,2,137,2,138,2,139,2,140,2,141,2,142,2]);function Vs(e){let t=[];for(let r=0;r<e.length;r+=2){let n=e[r],i=e[r+1];for(let e=0;i>e;e++)t.push(n)}return new qn(t)}function $s(e,t){let r,n=e.A,i=e.next_in_index,s=e.next_out_index,a=e.next_in,o=e.next_out,l=n.M,f=n.N>>>0,c=n.S>>>0,u=n.et,d=n.tt,h=(1<<n.nt)-1,w=(1<<n.rt)-1,p=n.F>>>0,g=n.q>>>0,m=n.C>>>0,b=n.it,y=s-(t-e.avail_out),k=s+(e.avail_out-257),S=i+(e.avail_in-5),z=0,_=0,x=0,v=0;e:do{for(;15>c;){if(i>=a.length)break e;f+=a[i++]<<c,c+=8}for(r=u[f&h];;){if(x=r.ft,f>>>=x,c-=x,x=r._t,0==x){o[s++]=r.lt;break}if(16&x){if(z=r.lt,x&=15,x){for(;x>c;){if(i>=a.length){n.ot=16200;break e}f+=a[i++]<<c,c+=8}z+=f&(1<<x)-1,f>>>=x,c-=x}for(;15>c;){if(i>=a.length){n.ot=16200;break e}f+=a[i++]<<c,c+=8}for(r=d[f&w];;){if(x=r.ft,f>>>=x,c-=x,x=r._t,16&x){if(_=r.lt,x&=15,x){for(;x>c;){if(i>=a.length){n.ot=16200;break e}f+=a[i++]<<c,c+=8}_+=f&(1<<x)-1,f>>>=x,c-=x}let t=z,u=s-y;if(_>u){let r=_-u;if(r>g&&b){e.msg="invalid distance too far back",n.ot=16209;break e}if(0==m){if(v=p-r,r>=t){for(let e=0;t>e;++e)o[s++]=l[v++];continue e}for(let e=0;r>e;++e)o[s++]=l[v++];t-=r,v=s-_}else if(r>m){v=p+m-r;let e=r-m;if(e>=t){for(let e=0;t>e;++e)o[s++]=l[v++];continue e}for(let t=0;e>t;++t)o[s++]=l[v++];if(t-=e,v=0,t>m){for(let e=0;m>e;++e)o[s++]=l[v++];t-=m,v=s-_}}else{if(v=m-r,r>=t){for(let e=0;t>e;++e)o[s++]=l[v++];continue e}for(let e=0;r>e;++e)o[s++]=l[v++];t-=r,v=s-_}for(;t>2;)o[s++]=o[v++],o[s++]=o[v++],o[s++]=o[v++],t-=3;t&&(o[s++]=o[v++],t>1&&(o[s++]=o[v++]))}else{for(v=s-_;t>2;)o[s++]=o[v++],o[s++]=o[v++],o[s++]=o[v++],t-=3;t&&(o[s++]=o[v++],t>1&&(o[s++]=o[v++]))}break}if(64&x){e.msg="invalid distance code",n.ot=16209;break e}r=d[r.lt+(f&(1<<x)-1)]}break}if(64&x){if(32&x){n.ot=16191;break e}e.msg="invalid literal/length code",n.ot=16209;break e}r=u[r.lt+(f&(1<<x)-1)]}}while(S>i&&k>s);let E=c>>3;i-=E,c-=E<<3,f&=(1<<c)-1,e.next_in_index=i,e.next_out_index=s,e.avail_in=S>i?S-i+5:5-(i-S),e.avail_out=k>s?k-s+257:257-(s-k),n.N=f>>>0,n.S=c>>>0}function Ks(e,t){let r=[],n=t?1446:1444;return{...oi(e,0),O:e,ot:16180,ut:!1,L:0,ct:!1,st:0,dt:0,ht:0,wt:0,M:ei,kt:0,gt:0,Je:0,et:r,tt:r,nt:0,rt:0,bt:0,xt:0,vt:0,yt:0,zt:r,At:new qn(320),Ot:new qn(288),Mt:new jn(n).fill(null).map(()=>Ps()),Ft:0,it:!0,Dt:0,qt:0,Ct:t}}function Ps(e=0,t=0,r=0){return{_t:e,ft:t,lt:r}}function Ws(e=1){return{_t:64,ft:e,lt:0}}function Hs(e){return(255&e)<<24|(e>>8&255)<<16|(e>>16&255)<<8|e>>24&255}var Zs={Ct:!1,Nt:Is,St:Ds,Xt:Ts,Vt:Os,Tt:20,Ut:257,Qt:0,$t:592,Et:!1,Bt:!0},qs={Ct:!0,Nt:Ls,St:Us,Xt:Ms,Vt:Bs,Tt:19,Ut:256,Qt:-1,$t:594,Et:!0,Bt:!1};function Qs(e,t,r,n,i,s,a,o){let l,f,c,u,d,h,w,p,g,m,b,y,k,S,z,_,x,v,E,R=new qn(16),A=new qn(16),C=o?qs:Zs;for(l=0;15>=l;l++)R[l]=0;for(f=0;r>f;f++)R[t[f]]++;for(d=i.It,u=15;u>=1&&0==R[u];u--);if(d>u&&(d=u),0==u)return C.Bt?(z=Ws(1),n.It[0]=z,n.It[1]=z,i.It=1,0):-1;for(c=1;u>c&&0==R[c];c++);for(c>d&&(d=c),p=1,l=1;15>=l;l++)if(p<<=1,p-=R[l],0>p)return-1;if(p>0&&(0==e||1!=u))return-1;for(A[1]=0,l=1;15>l;l++)A[l+1]=A[l]+R[l];for(f=0;r>f;f++)0!=t[f]&&(s[A[t[f]]++]=f);switch(e){case 0:x=v=s,E=C.Tt;break;case 1:x=C.Nt,v=C.St,E=C.Ut;break;default:x=C.Xt,v=C.Vt,E=C.Qt}if(m=0,f=0,l=c,_=a.It,h=d,w=0,k=-1,g=1<<d,S=g-1,1==e&&(C.Et?g>=852:g>852)||2==e&&(C.Et?g>=C.$t:g>C.$t))return 1;for(;;){z=Xs(s,f,l,w,e,x,v,E,C.Ct),b=1<<l-w,y=1<<h,c=y;do{y-=b;let e=(m>>w)+y;n.It[_+e]={...z}}while(0!=y);for(b=1<<l-1;m&b;)b>>=1;if(0!=b?(m&=b-1,m+=b):m=0,f++,0==--R[l]){if(l==u)break;l=t[s[f]]}if(l>d&&(m&S)!=k){for(0==w&&(w=d),_+=1<<h,h=l-w,p=1<<h;u>h+w&&(p-=R[h+w],p>0);)h++,p<<=1;if(g+=1<<h,1==e&&(C.Et?g>=852:g>852)||2==e&&(C.Et?g>=C.$t:g>C.$t))return 1;k=m&S,n.It[a.It+k]={_t:h,ft:d,lt:_-a.It}}}if(0!=m)for(z=Ws(l-w);0!=m;){for(0!=w&&(m&S)!=k&&(w=0,l=d,_=a.It,h=d,z.ft=l),n.It[_+(m>>w)]={...z},b=1<<l-1;m&b;)b>>=1;0!=b?(m&=b-1,m+=b):m=0}return a.It+=g,i.It=d,0}function Xs(e,t,r,n,i,s,a,o,l){let f;if(l?e[t]<o:e[t]+1<o)f=Ps(0,r-n,e[t]);else if(l?e[t]>o:e[t]>=o)if(l&&1==i){let i=e[t]-257;f=Ps(a[i],r-n,s[i])}else{let i=l?e[t]:e[t]-o;f=Ps(a[i],r-n,s[i])}else f=((e=0)=>({_t:96,ft:e,lt:0}))(r-n);return f}var Js,Gs,js=new jn(544),Ys=!0;function ea(e){let t;return!(e&&(t=e.A,!(!t||t.O!=e||t.Ct&&(16191>t.ot||t.ot>16209)||!t.Ct&&(16180>t.ot||t.ot>16211))))}function ta(e){let t={It:0};if(Ys){let r,n,i;for(r=0;144>r;)e.At[r++]=8;for(;256>r;)e.At[r++]=9;for(;280>r;)e.At[r++]=7;for(;288>r;)e.At[r++]=8;for(let e=0;544>e;e++)js[e]=Ps();i=js,Js=i,n=9;let s={It:i},a={It:n},o={It:0};for(Qs(1,e.At,288,s,a,e.Ot,o,e.Ct),i=s.It,n=a.It,e.Ft=o.It,r=0;32>r;)e.At[r++]=5;n=5;let l=o.It,f={It:i},c={It:n};t.It=l,Qs(2,e.At,32,f,c,e.Ot,t,e.Ct),Gs=i.slice(l),Ys=!1}e.et=Js,e.nt=9,e.tt=Gs,e.rt=5,e.Ft=t.It}var ra=class extends Gn{constructor(){super("Need more input")}};function na(e,t){let r,n,i,s,a,o,l,f,c,u,d,h,w,p,g,m,b,y=new Zn(4);if(ea(e)||!e.next_out||!e.next_in&&0!=e.avail_in)return-2;o=0,f=0,l=0,c=0,n=ei,i=0,s=ei,a=0,r=e.A,16191==r.ot&&(r.ot=16192),x(),u=o,d=l,b=0;try{for(;;)switch(r.ot){case 16180:if(0==r.L){r.ot=16192;break}if(A(16),2&r.L&&35615==f){0==r.D&&(r.D=15),r.ht=Gi(0),r.ht=z(r.ht,f),E(),r.ot=16181;break}if(r.K&&(r.K.Zt=-1),!(1&r.L)||((C(8)<<8)+(f>>8))%31){e.msg="incorrect header check",r.ot=16209;break}if(8!=C(4)){e.msg="unknown compression method",r.ot=16209;break}if(F(4),m=C(4)+8,0==r.D&&(r.D=m),m>15||m>r.D){e.msg="invalid window size",r.ot=16209;break}r.dt=1<<m,r.st=0,e.v=r.ht=Xi(0),r.ot=512&f?16189:16191,E();break;case 16181:if(A(16),r.st=f,8!=(255&r.st)){e.msg="unknown compression method",r.ot=16209;break}if(57344&r.st){e.msg="unknown header flags set",r.ot=16209;break}r.K&&(r.K.We=f>>8&1),512&r.st&&4&r.L&&(r.ht=z(r.ht,f)),E(),r.ot=16182;case 16182:A(32),r.K&&(r.K.je=f),512&r.st&&4&r.L&&(r.ht=_(r.ht,f)),E(),r.ot=16183;case 16183:A(16),r.K&&(r.K.Ht=255&f,r.K.Pe=f>>8),512&r.st&&4&r.L&&(r.ht=z(r.ht,f)),E(),r.ot=16184;case 16184:1024&r.st?(A(16),r.kt=f,r.K&&(r.K.Ge=f),512&r.st&&4&r.L&&(r.ht=z(r.ht,f)),E()):r.K&&(r.K.Je=ei),r.ot=16185;case 16185:if(1024&r.st&&(h=r.kt,h>o&&(h=o),h&&(r.K&&r.K.Je&&r.K.Lt&&(m=r.K.Ge-r.kt)<r.K.Lt&&ii(r.K.Je,m,n,i,h),512&r.st&&4&r.L&&(r.ht=Gi(r.ht,n.subarray(i,i+h),h)),o-=h,i+=h,r.kt-=h),r.kt))return k();r.kt=0,r.ot=16186;case 16186:if(2048&r.st){if(0==o)return k();h=0;do{m=n[i+h++],r.K&&r.K.Kt&&r.kt<r.K.Kt&&(r.K.Re[r.kt++]=m)}while(m&&o>h);if(512&r.st&&4&r.L&&(r.ht=Gi(r.ht,n.subarray(i,i+h),h)),o-=h,i+=h,m)return k()}else r.K&&(r.K.Re=ei);r.kt=0,r.ot=16187;case 16187:if(4096&r.st){if(0==o)return k();h=0;do{m=n[i+h++],r.K&&r.K.Wt&&r.kt<r.K.Wt&&(r.K.Ye[r.kt++]=m)}while(m&&o>h);if(512&r.st&&4&r.L&&(r.ht=Gi(r.ht,n.subarray(i,i+h),h)),o-=h,i+=h,m)return k()}else r.K&&(r.K.Ye=ei);r.ot=16188;case 16188:if(512&r.st){if(A(16),4&r.L&&f!=(65535&r.ht)){e.msg="header crc mismatch",r.ot=16209;break}E()}r.K&&(r.K.Ke=r.st>>9&1,r.K.Zt=1),e.v=r.ht=Gi(0),r.ot=16191;break;case 16189:A(32),e.v=r.ht=Hs(f),E(),r.ot=16190;case 16190:if(!r.ct)return v(),2;e.v=r.ht=Xi(0),r.ot=16191;case 16191:if(5==t||6==t)return k();case 16192:if(r.ut){N(),r.ot=16206;break}switch(A(3),r.ut=!!C(1),F(1),C(2)){case 0:r.ot=16193;break;case 1:if(ta(r),r.ot=16199,6==t)return F(2),k();break;case 2:r.ot=16196;break;case 3:e.msg="invalid block type",r.ot=16209}F(2);break;case 16193:if(N(),A(32),(65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",r.ot=16209;break}if(r.kt=65535&f,E(),r.ot=16194,6==t)return k();case 16194:r.ot=16195;case 16195:if(h=r.kt,h){if(h>o&&(h=o),h>l&&(h=l),0==h)return k();ii(s,a,n,i,h),o-=h,i+=h,l-=h,a+=h,r.kt-=h;break}r.ot=16191;break;case 16196:if(A(14),r.xt=C(5)+257,F(5),r.vt=C(5)+1,F(5),r.bt=C(4)+4,F(4),r.xt>286||!r.Ct&&r.vt>30){e.msg=r.Ct?"too many length":"too many length or distance symbols",r.ot=16209;break}r.yt=0,r.ot=16197;case 16197:for(;r.yt<r.bt;)A(3),r.At[Yn[r.yt++]]=C(3),F(3);for(;19>r.yt;)r.At[Yn[r.yt++]]=0;r.zt=r.Mt,r.et=r.tt=r.zt,r.nt=7;let u={It:r.zt},y={It:r.nt},I={It:0};if(b=Qs(0,r.At,19,u,y,r.Ot,I,r.Ct),r.zt=u.It,r.nt=y.It,b){e.msg="invalid code lengths set",r.ot=16209;break}r.yt=0,r.ot=16198;case 16198:for(;r.yt<r.xt+r.vt;){for(;p=r.et[C(r.nt)],p.ft>c;)R();if(16>p.lt)F(p.ft),r.At[r.yt++]=p.lt;else{if(16==p.lt){if(A(p.ft+2),F(p.ft),0==r.yt){e.msg="invalid bit length repeat",r.ot=16209;break}m=r.At[r.yt-1],h=3+C(2),F(2)}else 17==p.lt?(A(p.ft+3),F(p.ft),m=0,h=3+C(3),F(3)):(A(p.ft+7),F(p.ft),m=0,h=11+C(7),F(7));if(r.yt+h>r.xt+r.vt){e.msg="invalid bit length repeat",r.ot=16209;break}for(;h--;)r.At[r.yt++]=m}}if(16209==r.ot)break;if(0==r.At[256]){e.msg="invalid code -- missing end-of-block",r.ot=16209;break}r.zt=r.Mt,r.nt=9;let D={It:r.zt},T={It:r.nt},O={It:0};b=Qs(1,r.At,r.xt,D,T,r.Ot,O,r.Ct),r.zt=D.It,r.nt=T.It;let L=O.It;if(r.et=r.zt.slice(0,L),b){e.msg="invalid literal/lengths set",r.ot=16209;break}r.rt=6;let U=r.At.subarray(r.xt,r.xt+r.vt),M={It:r.zt},B={It:r.rt},V={It:L};if(b=Qs(2,U,r.vt,M,B,r.Ot,V,r.Ct),r.zt=M.It,r.rt=B.It,r.tt=r.zt.slice(L),b){e.msg="invalid distances set",r.ot=16209;break}if(r.ot=16199,6==t)return k();case 16199:r.ot=16200;case 16200:if(!r.Ct&&o>=6&&l>=258){v(),$s(e,d),x(),16191==r.ot&&(r.Dt=-1);break}for(r.Dt=0;p=r.et[C(r.nt)],p.ft>c;)R();if(p._t&&!(240&p._t)){for(g=p;p=r.et[g.lt+(C(g.ft+g._t)>>g.ft)],g.ft+p.ft>c;)R();F(g.ft),r.Dt+=g.ft}if(F(p.ft),r.Dt+=p.ft,r.kt=p.lt,0==p._t){r.ot=16205;break}if(32&p._t){r.Dt=-1,r.ot=16191;break}if(64&p._t){e.msg="invalid literal/length code",r.ot=16209;break}r.Je=15&p._t,r.ot=16201;case 16201:r.Je&&(A(r.Je),r.kt+=C(r.Je),F(r.Je),r.Dt+=r.Je),r.qt=r.kt,r.ot=16202;case 16202:for(;p=r.tt[C(r.rt)],p.ft>c;)R();if(!(240&p._t)){for(g=p;p=r.tt[g.lt+(C(g.ft+g._t)>>g.ft)],g.ft+p.ft>c;)R();F(g.ft),r.Dt+=g.ft}if(F(p.ft),r.Dt+=p.ft,64&p._t){e.msg="invalid distance code",r.ot=16209;break}r.gt=p.lt,r.Je=15&p._t,r.ot=16203;case 16203:r.Je&&(A(r.Je),r.gt+=C(r.Je),F(r.Je),r.Dt+=r.Je),r.ot=16204;case 16204:if(0==l)return k();if(h=d-l,r.gt>h){if(h=r.gt-h,h>r.q&&r.it){e.msg="invalid distance too far back",r.ot=16209;break}h>r.C?(h-=r.C,w=r.F-h):w=r.C-h,h>r.kt&&(h=r.kt),h>l&&(h=l);for(let e=0;h>e;++e)s[a]=255&r.M[w],++a,++w}else{w=a-r.gt,h=r.kt,h>l&&(h=l);for(let e=0;h>e;++e)s[a]=s[w],++a,++w}h>l&&(h=l),l-=h,r.kt-=h,0==r.kt&&(r.ot=16200);break;case 16205:if(0==l)return k();s[a++]=r.kt,l--,r.ot=16200;break;case 16206:if(r.L){if(A(32),d-=l,e.total_out+=d,r.wt+=d,4&r.L&&d){let t=s.subarray(a-d,a);e.v=r.ht=S(r.ht,t,d)}if(d=l,4&r.L&&(r.st?f:Hs(f)>>>0)!=r.ht){e.msg="incorrect data check",r.ot=16209;break}E()}r.ot=16207;case 16207:if(r.L&&r.st){if(A(32),4&r.L&&f!=(4294967295&r.wt)){e.msg="incorrect length check",r.ot=16209;break}E()}r.ot=16208;case 16208:return b=1,k();case 16209:return b=-3,k();case 16210:return-4;default:return-2}}catch(e){if(e instanceof ra)return k();throw e}function k(){if(v(),r.F||d!=e.avail_out&&16209>r.ot&&(r.Ct?16208>r.ot:16206>r.ot)||4!=t){let t=d-e.avail_out;if(((e,t,r)=>{let n=e.A;if(!(n.M&&0!=n.M.length||(n.M=new Zn(1<<n.D),n.M)))return 1;if(0==n.F&&(n.F=1<<n.D,n.C=0,n.q=0),r<n.F){let e=n.F-n.C;e>r&&(e=r),ii(n.M,n.C,t,t.length-r,e),(r-=e)?(ii(n.M,0,t,t.length-r,r),n.C=r,n.q=n.F):(n.C+=e,n.C==n.F&&(n.C=0),n.q<n.F&&(n.q+=e))}else ii(n.M,0,t,t.length-n.F,n.F),n.C=0,n.q=n.F;return 0})(e,e.next_out.subarray(e.next_out_index-t,e.next_out_index),t))return r.ot=16210,-4}return u-=e.avail_in,d-=e.avail_out,e.total_in+=u,e.total_out+=d,r.wt+=d,4&r.L&&d&&(e.v=r.ht=S(r.ht,e.next_out.subarray(e.next_out_index-d,e.next_out_index),d)),e.m=r.S+(r.ut?64:0)+(16191==r.ot?128:0)+(16199==r.ot||16194==r.ot?256:0),(0==u&&0==d&&0==b||4==t&&0==b)&&(b=-5),b}function S(e,t,n){return r.st?Gi(e,t,n):Xi(e,t,n)}function z(e,t){return y[0]=255&t,y[1]=t>>>8&255,Gi(e,y,2)>>>0}function _(e,t){return y[0]=255&t,y[1]=t>>>8&255,y[2]=t>>>16&255,y[3]=t>>>24&255,Gi(e,y,4)>>>0}function x(){s=e.next_out,a=e.next_out_index,l=e.avail_out,n=e.next_in,i=e.next_in_index,o=e.avail_in,f=r.N,c=r.S}function v(){e.next_out=s,e.next_out_index=a,e.avail_out=l,e.next_in=n,e.next_in_index=i,e.avail_in=o,r.N=f,r.S=c}function E(){f=0,c=0}function R(){if(0==o)throw new ra;o--,f+=(255&n[i])<<c,i++,f>>>=0,c+=8}function A(e){for(;e>c;)R()}function C(e){return f&(1<<e)-1}function F(e){f>>>=e,c-=e}function N(){f>>>=7&c,c-=7&c}}function ia(e){return ea(e)?-2:0}var sa=65536,aa=class{constructor(e=16,t=sa){this.Jt=[],this.Rt=e;for(let r=0;r<Jn.min(e,4);r++)this.Jt.push(new Zn(t))}acquire(e=sa){for(let t=this.Jt.length-1;t>=0;t--){let r=this.Jt[t];if(r.length>=e)return this.Jt.splice(t,1),r}return new Zn(e)}release(e){this.Jt.length<this.Rt&&this.Jt.push(e)}};function oa(e){let t=new aa(32,sa),r=null;function n(e){try{t.release(e)}catch{}}return new Xn({start(){},transform(i,s){if(!r){let t=e.Yt(),n=e.jt(t);if(0!=n&&0!=n)throw new Gn("init failed: "+n);r={O:t}}let a=r.O,o=0;for(;o<i.length;){let r=Jn.min(i.length-o,32768),l=i.subarray(o,o+r);for(a.next_in=l,a.next_in_index=0,a.avail_in=l.length;a.avail_in>0;){let r=t.acquire(),i=!1;try{a.next_out=r,a.next_out_index=0,a.avail_out=r.length;let n=e.Pt(a,0),o=r.length-a.avail_out;if(o>0){let e=!1,n={Gt:r.subarray(0,o),release:()=>{e||(e=!0,t.release(r))}};i=!0,s.enqueue(n)}if(0!=n&&1!=n)throw new Gn("process error: "+n)}finally{i||n(r)}}o+=r}},flush(i){if(!r)return;let s=r.O;for(;;){let r=t.acquire(),a=!1;try{s.next_out=r,s.next_out_index=0,s.avail_out=r.length;let n=e.Pt(s,4),o=r.length-s.avail_out;if(o>0){let e=!1,n={Gt:r.subarray(0,o),release:()=>{e||(e=!0,t.release(r))}};a=!0,i.enqueue(n)}if(1==n)break;if(0!=n)throw new Gn("finalization error: "+n)}finally{a||n(r)}}let a=e.en(s);if(0!=a&&0!=a)throw new Gn("end failed: "+a)}})}function la(){return new Xn({start(){},transform(e,t){try{t.enqueue(e.Gt.slice(0))}finally{e.release()}},flush(){}})}re({workerURI:"./core/web-worker-native.js",wasmURI:null,CompressionStreamZlib:class{constructor(e="deflate",t){let r=function(e="deflate",t){let r="gzip"==e?31:"deflate-raw"==e?-15:15,n=t&&"number"==typeof t.level?t.level:-1;return oa({Yt:()=>(()=>{let e=ai();return e.A=mi(e),e})(),jt:e=>((e,t,r=8,n=15,i=zi,s=0)=>{let a=1;if(!e)return-2;if(e.msg="",-1==t&&(t=6),0>n){if(a=0,-15>n)return-2;n=-n}else n>15&&(a=2,n-=16);if(1>i||i>9||8!=r||8>n||n>15||0>t||t>9||0>s||s>4||8==n&&1!=a)return-2;8==n&&(n=9);let o=mi(e);return o?(e.A=o,o.O=e,o.H=42,o.L=a,o.K=void 0,o.D=n,o.F=1<<o.D,o.W=o.F-1,o.J=i+7,o.R=1<<o.J,o.Y=o.R-1,o.j=(o.J+_i-1)/_i,o.M=new Zn(2*o.F),o.P=new qn(o.F),o.G=new qn(o.R),o.q=0,o.ee=1<<i+6,o.X=new Zn(4*o.ee),o.ne=4*o.ee,o.M&&o.P&&o.G&&o.X?(o.Oe=o.X.subarray(o.ee),o.T=o.te+o.ee,o.Z=3*(o.ee-1),o.ge=t,o.be=s,o.De=r,(e=>{let t=(e=>{let t;return bs(e)?-2:(e.total_in=e.total_out=0,e.msg="",e.m=2,t=e.A,t.V=0,t.re=t.te,0>t.L&&(t.L=-t.L),t.H=2==t.L?57:42,e.v=2==t.L?Gi(0):Xi(0),t.oe=-2,(e=>{if(e.B&&e.B.length>=Ni)for(let t=0;Ni>t;t++)e.B[t]=yi();else{e.B=[];for(let t=0;Ni>t;t++)e.B.push(yi())}if(e.I&&e.I.length>=2*Ci+1)for(let t=0;2*Ci+1>t;t++)e.I[t]=yi();else{e.I=[];for(let t=0;2*Ci+1>t;t++)e.I.push(yi())}if(e.Xe&&e.Xe.length>=2*Fi+1)for(let t=0;2*Fi+1>t;t++)e.Xe[t]=yi();else{e.Xe=[];for(let t=0;2*Fi+1>t;t++)e.Xe.push(yi())}e.Ve=new ri(e.B,new ni(Wi,Mi,Ri+1,Ai,Ii)),e.Te=new ri(e.I,new ni(Hi,Bi,0,Ci,Ii)),e.Ue=new ri(e.Xe,new ni(null,Vi,0,Fi,7)),e.N=0,e.S=0,e.Me=0,ts(e)})(t),0)})(e);return 0==t&&(e=>{e.qe=2*e.F,ws(e),e.ye=cs[e.ge].Ie,e.me=cs[e.ge].Ze,e.xe=cs[e.ge].He,e.ve=cs[e.ge].Le,e.ae=0,e.ue=0,e.ce=0,e.le=0,e.se=e.de=_i-1,e.we=0,e.ke=0})(e.A),t})(e)):(o.H=666,e.msg=li(-4),_s(e),-4)):-4})(e,n,8,r,8,0),Pt:zs,en:_s})}(e,t);this.writable=r.writable,this.readable=r.readable.pipeThrough(la())}},DecompressionStreamZlib:class{constructor(e="deflate"){let t=((e="deflate")=>{let t="gzip"==e?31:"deflate-raw"==e?-15:15;return oa({Yt:()=>(e=>{let t=ai();return t.A=Ks(t,!!e),t})("deflate64-raw"==e),jt:e=>function(e,t){let r,n;if(!e)return-2;e.msg="";let i=!!e.A.Ct;return n=Ks(e,i),i&&(t=-16),e.A=n,n.O=e,n.ot=n.Ct?16191:16180,r=((e,t)=>{let r,n,i;if(ea(e))return-2;if(n=e.A,n.Ct?(t=-16,i=16):i=15,0>t){if(-i>t)return-2;r=0,t=-t}else r=5+(t>>4),!n.Ct&&48>t&&(t&=15);return t&&(8>t||t>i)?-2:(n.M.length>0&&n.D!=t&&(n.M=ei),n.L=r,n.D=t,(e=>{let t;return ea(e)?-2:(t=e.A,t.F=0,t.q=0,t.C=0,(e=>{let t;return ea(e)?-2:(t=e.A,e.total_in=e.total_out=t.wt=0,e.msg="",t.L&&(e.v=1&t.L),t.ot=t.Ct?16191:16180,t.ut=!1,t.ct=!1,t.st=-1,t.dt=t.Ct?65536:32768,delete t.K,t.N=0,t.S=0,t.et=t.Mt,t.tt=t.Mt,t.zt=t.Mt,t.it=!0,t.Dt=-1,0)})(e))})(e))})(e,t),r}(e,t),Pt:na,en:ia})})(e);this.writable=t.writable,this.readable=t.readable.pipeThrough(la())}}}),re({workerURI:()=>"data:text/javascript,"+encodeURIComponent('(e=>{"function"==typeof define&&define.amd?define(e):e()})(function(){"use strict";const{Array:e,Object:t,Number:r,Math:n,Error:i,Uint8Array:o,Uint16Array:f,Uint32Array:s,Int32Array:l,Map:c,DataView:a,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:k,WritableStream:b,CompressionStream:y,DecompressionStream:m}=self,g=void 0,v="undefined",I="function",S=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;S[e]=t}class z{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let r=0,n=0|e.length;n>r;r++)t=t>>>8^S[255&(t^e[r])];this.t=t}get(){return~this.t}}class _ extends p{constructor(){let e;const t=new z;super({transform(e,r){t.append(e),r.enqueue(e)},flush(){const r=new o(4);new a(r.buffer).setUint32(0,t.get()),e.value=r}}),e=this}}const x={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const r=e[e.length-1],n=x.i(r);return 32===n?e.concat(t):x.o(t,n,0|r,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const r=e[t-1];return 32*(t-1)+x.i(r)},u(e,t){if(32*e.length<t)return e;const r=(e=e.slice(0,n.ceil(t/32))).length;return t&=31,r>0&&t&&(e[r-1]=x.h(t,e[r-1]&2147483648>>t-1,1)),e},h:(e,t,r)=>32===e?t:(r?0|t:t<<32-e)+1099511627776*e,i:e=>n.round(e/1099511627776)||32,o(e,t,r,n){for(void 0===n&&(n=[]);t>=32;t-=32)n.push(r),r=0;if(0===t)return n.concat(e);for(let i=0;i<e.length;i++)n.push(r|e[i]>>>t),r=e[i]<<32-t;const i=e.length?e[e.length-1]:0,o=x.i(i);return n.push(x.h(t+o&31,t+o>32?r:n.pop(),1)),n}},B={bytes:{p(e){const t=x.l(e)/8,r=new o(t);let n;for(let i=0;t>i;i++)3&i||(n=e[i/4]),r[i]=n>>>24,n<<=8;return r},k(e){const t=[];let r,n=0;for(r=0;r<e.length;r++)n=n<<8|e[r],3&~r||(t.push(n),n=0);return 3&r&&t.push(x.h(8*(3&r),n)),t}}},C=class{constructor(e){const t=this;t.blockSize=512,t.m=[1732584193,4023233417,2562383102,271733878,3285377520],t.v=[1518500249,1859775393,2400959708,3395469782],e?(t.I=e.I.slice(0),t.S=e.S.slice(0),t._=e._):t.reset()}reset(){const e=this;return e.I=e.m.slice(0),e.S=[],e._=0,e}update(e){const t=this;"string"==typeof e&&(e=B.B.k(e));const r=t.S=x.concat(t.S,e),n=t._,o=t._=n+x.l(e);if(o>9007199254740991)throw new i("Cannot hash more than 2^53 - 1 bits");const f=new s(r);let l=0;for(let e=t.blockSize+n-(t.blockSize+n&t.blockSize-1);o>=e;e+=t.blockSize)t.C(f.subarray(16*l,16*(l+1))),l+=1;return r.splice(0,16*l),t}A(){const e=this;let t=e.S;const r=e.I;t=x.concat(t,[x.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(n.floor(e._/4294967296)),t.push(0|e._);t.length;)e.C(t.splice(0,16));return e.reset(),r}L(e,t,r,n){return e>19?e>39?e>59?e>79?void 0:t^r^n:t&r|t&n|r&n:t^r^n:t&r|~t&n}H(e,t){return t<<e|t>>>32-e}C(t){const r=this,i=r.I,o=e(80);for(let e=0;16>e;e++)o[e]=t[e];let f=i[0],s=i[1],l=i[2],c=i[3],a=i[4];for(let e=0;79>=e;e++){16>e||(o[e]=r.H(1,o[e-3]^o[e-8]^o[e-14]^o[e-16]));const t=r.H(5,f)+r.L(e,s,l,c)+a+o[e]+r.v[n.floor(e/20)]|0;a=c,c=l,l=r.H(30,s),s=f,f=t}i[0]=i[0]+f|0,i[1]=i[1]+s|0,i[2]=i[2]+l|0,i[3]=i[3]+c|0,i[4]=i[4]+a|0}},A={getRandomValues(e){const t=new s(e.buffer),r=e=>{let t=987654321;const r=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&r,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r)/4294967296+.5)*(n.random()>.5?1:-1))};for(let i,o=0;o<e.length;o+=4){const e=r(4294967296*(i||n.random()));i=987654071*e(),t[o/4]=4294967296*e()|0}return e}},L={importKey:e=>new L.Z(B.bytes.k(e)),U(e,t,r,n){if(r=r||1e4,0>n||0>r)throw new i("invalid params to pbkdf2");const o=1+(n>>5)<<2;let f,s,l,c,u;const w=new ArrayBuffer(o),h=new a(w);let d=0;const p=x;for(t=B.bytes.k(t),u=1;(o||1)>d;u++){for(f=s=e.encrypt(p.concat(t,[u])),l=1;r>l;l++)for(s=e.encrypt(s),c=0;c<s.length;c++)f[c]^=s[c];for(l=0;(o||1)>d&&l<f.length;l++)h.setInt32(d,f[l]),d+=4}return w.slice(0,n/8)},Z:class{constructor(e){const t=this,r=t.V=C,n=[[],[]];t.M=[new r,new r];const i=t.M[0].blockSize/32;e.length>i&&(e=(new r).update(e).A());for(let t=0;i>t;t++)n[0][t]=909522486^e[t],n[1][t]=1549556828^e[t];t.M[0].update(n[0]),t.M[1].update(n[1]),t.P=new r(t.M[0])}reset(){const e=this;e.P=new e.V(e.M[0]),e.$=!1}update(e){this.$=!0,this.P.update(e)}digest(){const e=this,t=e.P.A(),r=new e.V(e.M[1]).update(t).A();return e.reset(),r}encrypt(e){if(this.$)throw new i("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},H=typeof h!=v&&typeof h.getRandomValues==I,Z="Invalid password",U="Invalid signature",V="zipjs-abort-check-password";function E(e){return H?h.getRandomValues(e):A.getRandomValues(e)}const M=16,P={name:"PBKDF2"},$=t.assign({hash:{name:"HMAC"}},P),O=t.assign({iterations:1e3,hash:{name:"SHA-1"}},P),T=["deriveBits"],D=[8,12,16],R=[16,24,32],N=10,Q=[0,0,0,0],j=typeof h!=v,K=j&&h.subtle,q=j&&typeof K!=v,F=B.bytes,W=class{constructor(e){const t=this;t.O=[[[],[],[],[],[]],[[],[],[],[],[]]],t.O[0][0][0]||t.T();const r=t.O[0][4],n=t.O[1],o=e.length;let f,s,l,c=1;if(4!==o&&6!==o&&8!==o)throw new i("invalid aes key size");for(t.v=[s=e.slice(0),l=[]],f=o;4*o+28>f;f++){let e=s[f-1];(f%o===0||8===o&&f%o===4)&&(e=r[e>>>24]<<24^r[e>>16&255]<<16^r[e>>8&255]<<8^r[255&e],f%o===0&&(e=e<<8^e>>>24^c<<24,c=c<<1^283*(c>>7))),s[f]=s[f-o]^e}for(let e=0;f;e++,f--){const t=s[3&e?f:f-4];l[e]=4>=f||4>e?t:n[0][r[t>>>24]]^n[1][r[t>>16&255]]^n[2][r[t>>8&255]]^n[3][r[255&t]]}}encrypt(e){return this.D(e,0)}decrypt(e){return this.D(e,1)}T(){const e=this.O[0],t=this.O[1],r=e[4],n=t[4],i=[],o=[];let f,s,l,c;for(let e=0;256>e;e++)o[(i[e]=e<<1^283*(e>>7))^e]=e;for(let a=f=0;!r[a];a^=s||1,f=o[f]||1){let o=f^f<<1^f<<2^f<<3^f<<4;o=o>>8^255&o^99,r[a]=o,n[o]=a,c=i[l=i[s=i[a]]];let u=16843009*c^65537*l^257*s^16843008*a,w=257*i[o]^16843008*o;for(let r=0;4>r;r++)e[r][a]=w=w<<24^w>>>8,t[r][o]=u=u<<24^u>>>8}for(let r=0;5>r;r++)e[r]=e[r].slice(0),t[r]=t[r].slice(0)}D(e,t){if(4!==e.length)throw new i("invalid aes block size");const r=this.v[t],n=r.length/4-2,o=[0,0,0,0],f=this.O[t],s=f[0],l=f[1],c=f[2],a=f[3],u=f[4];let w,h,d,p=e[0]^r[0],k=e[t?3:1]^r[1],b=e[2]^r[2],y=e[t?1:3]^r[3],m=4;for(let e=0;n>e;e++)w=s[p>>>24]^l[k>>16&255]^c[b>>8&255]^a[255&y]^r[m],h=s[k>>>24]^l[b>>16&255]^c[y>>8&255]^a[255&p]^r[m+1],d=s[b>>>24]^l[y>>16&255]^c[p>>8&255]^a[255&k]^r[m+2],y=s[y>>>24]^l[p>>16&255]^c[k>>8&255]^a[255&b]^r[m+3],m+=4,p=w,k=h,b=d;for(let e=0;4>e;e++)o[t?3&-e:e]=u[p>>>24]<<24^u[k>>16&255]<<16^u[b>>8&255]<<8^u[255&y]^r[m++],w=p,p=k,k=b,b=y,y=w;return o}},X=class{constructor(e,t){this.R=e,this.N=t,this.j=t}reset(){this.j=this.N}update(e){return this.K(this.R,e,this.j)}q(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}return e}F(e){0===(e[0]=this.q(e[0]))&&(e[1]=this.q(e[1]))}K(e,t,r){let n;if(!(n=t.length))return[];const i=x.l(t);for(let i=0;n>i;i+=4){this.F(r);const n=e.encrypt(r);t[i]^=n[0],t[i+1]^=n[1],t[i+2]^=n[2],t[i+3]^=n[3]}return x.u(t,i)}},G=L.Z;let Y=j&&q&&typeof K.importKey==I,J=j&&q&&typeof K.deriveBits==I;class ee extends p{constructor({password:e,rawPassword:r,signed:n,encryptionStrength:f,checkPasswordOnly:s}){super({start(){t.assign(this,{ready:new u(e=>this.W=e),password:ie(e,r),signed:n,X:f-1,pending:new o})},async transform(e,t){const r=this,{password:n,X:f,W:l,ready:c}=r;n?(await(async(e,t,r,n)=>{const o=await ne(e,t,r,fe(n,0,D[t])),f=fe(n,D[t]);if(o[0]!=f[0]||o[1]!=f[1])throw new i(Z)})(r,f,n,fe(e,0,D[f]+2)),e=fe(e,D[f]+2),s?t.error(new i(V)):l()):await c;const a=new o(e.length-N-(e.length-N)%M);t.enqueue(re(r,e,a,0,N,!0))},async flush(e){const{signed:t,G:r,Y:n,pending:f,ready:s}=this;if(n&&r){await s;const l=fe(f,0,f.length-N),c=fe(f,f.length-N);let a=new o;if(l.length){const e=le(F,l);n.update(e);const t=r.update(e);a=se(F,t)}if(t){const e=fe(se(F,n.digest()),0,N);for(let t=0;N>t;t++)if(e[t]!=c[t])throw new i(U)}e.enqueue(a)}}})}}class te extends p{constructor({password:e,rawPassword:r,encryptionStrength:n}){let i;super({start(){t.assign(this,{ready:new u(e=>this.W=e),password:ie(e,r),X:n-1,pending:new o})},async transform(e,t){const r=this,{password:n,X:i,W:f,ready:s}=r;let l=new o;n?(l=await(async(e,t,r)=>{const n=E(new o(D[t]));return oe(n,await ne(e,t,r,n))})(r,i,n),f()):await s;const c=new o(l.length+e.length-e.length%M);c.set(l,0),t.enqueue(re(r,e,c,l.length,0))},async flush(e){const{G:t,Y:r,pending:n,ready:f}=this;if(r&&t){await f;let s=new o;if(n.length){const e=t.update(le(F,n));r.update(e),s=se(F,e)}i.signature=se(F,r.digest()).slice(0,N),e.enqueue(oe(s,i.signature))}}}),i=this}}function re(e,t,r,n,i,f){const{G:s,Y:l,pending:c}=e,a=t.length-i;let u;for(c.length&&(t=oe(c,t),r=((e,t)=>{if(t&&t>e.length){const r=e;(e=new o(t)).set(r,0)}return e})(r,a-a%M)),u=0;a-M>=u;u+=M){const e=le(F,fe(t,u,u+M));f&&l.update(e);const i=s.update(e);f||l.update(i),r.set(se(F,i),u+n)}return e.pending=fe(t,u),r}async function ne(r,n,i,f){r.password=null;const s=await(async(e,t,r,n,i)=>{if(!Y)return L.importKey(t);try{return await K.importKey("raw",t,r,!1,i)}catch{return Y=!1,L.importKey(t)}})(0,i,$,0,T),l=await(async(e,t,r)=>{if(!J)return L.U(t,e.salt,O.iterations,r);try{return await K.deriveBits(e,t,r)}catch{return J=!1,L.U(t,e.salt,O.iterations,r)}})(t.assign({salt:f},O),s,8*(2*R[n]+2)),c=new o(l),a=le(F,fe(c,0,R[n])),u=le(F,fe(c,R[n],2*R[n])),w=fe(c,2*R[n]);return t.assign(r,{keys:{key:a,J:u,passwordVerification:w},G:new X(new W(a),e.from(Q)),Y:new G(u)}),w}function ie(e,t){return t===g?(e=>{if(typeof w==v){const t=new o((e=unescape(encodeURIComponent(e))).length);for(let r=0;r<t.length;r++)t[r]=e.charCodeAt(r);return t}return(new w).encode(e)})(e):t}function oe(e,t){let r=e;return e.length+t.length&&(r=new o(e.length+t.length),r.set(e,0),r.set(t,e.length)),r}function fe(e,t,r){return e.subarray(t,r)}function se(e,t){return e.p(t)}function le(e,t){return e.k(t)}class ce extends p{constructor({password:e,passwordVerification:r,checkPasswordOnly:n}){super({start(){t.assign(this,{password:e,passwordVerification:r}),he(this,e)},transform(e,t){const r=this;if(r.password){const t=ue(r,e.subarray(0,12));if(r.password=null,t.at(-1)!=r.passwordVerification)throw new i(Z);e=e.subarray(12)}n?t.error(new i(V)):t.enqueue(ue(r,e))}})}}class ae extends p{constructor({password:e,passwordVerification:r}){super({start(){t.assign(this,{password:e,passwordVerification:r}),he(this,e)},transform(e,t){const r=this;let n,i;if(r.password){r.password=null;const t=E(new o(12));t[11]=r.passwordVerification,n=new o(e.length+t.length),n.set(we(r,t),0),i=12}else n=new o(e.length),i=0;n.set(we(r,e),i),t.enqueue(n)}})}}function ue(e,t){const r=new o(t.length);for(let n=0;n<t.length;n++)r[n]=pe(e)^t[n],de(e,r[n]);return r}function we(e,t){const r=new o(t.length);for(let n=0;n<t.length;n++)r[n]=pe(e)^t[n],de(e,t[n]);return r}function he(e,r){const n=[305419896,591751049,878082192];t.assign(e,{keys:n,ee:new z(n[0]),te:new z(n[2])});for(let t=0;t<r.length;t++)de(e,r.charCodeAt(t))}function de(e,t){let[r,i,o]=e.keys;e.ee.append([t]),r=~e.ee.get(),i=be(n.imul(be(i+ke(r)),134775813)+1),e.te.append([i>>>24]),o=~e.te.get(),e.keys=[r,i,o]}function pe(e){const t=2|e.keys[2];return ke(n.imul(t,1^t)>>>8)}function ke(e){return 255&e}function be(e){return 4294967295&e}class ye extends p{constructor(e,{chunkSize:t,re:r,CompressionStream:n}){super({});const{compressed:i,encrypted:o,useCompressionStream:f,zipCrypto:s,signed:l,level:c}=e,u=this;let w,h,d=super.readable;o&&!s||!l||(w=new _,d=Ie(d,w)),i&&(d=ve(d,f,{level:c,chunkSize:t},n,r,n)),o&&(s?d=Ie(d,new ae(e)):(h=new te(e),d=Ie(d,h))),ge(u,d,()=>{let e;o&&!s&&(e=h.signature),o&&!s||!l||(e=new a(w.value.buffer).getUint32(0)),u.signature=e})}}class me extends p{constructor(e,{chunkSize:t,ne:r,DecompressionStream:n}){super({});const{zipCrypto:o,encrypted:f,signed:s,signature:l,compressed:c,useCompressionStream:u,ie:w}=e;let h,d,p=super.readable;f&&(o?p=Ie(p,new ce(e)):(d=new ee(e),p=Ie(p,d))),c&&(p=ve(p,u,{chunkSize:t,ie:w},n,r,n)),f&&!o||!s||(h=new _,p=Ie(p,h)),ge(this,p,()=>{if((!f||o)&&s){const e=new a(h.value.buffer);if(l!=e.getUint32(0,!1))throw new i(U)}})}}function ge(e,r,n){r=Ie(r,new p({flush:n})),t.defineProperty(e,"readable",{get:()=>r})}function ve(e,t,r,n,i,o){const f=t&&n?n:i||o,s=r.ie?"deflate64-raw":"deflate-raw";try{e=Ie(e,new f(s,r))}catch(n){if(!t)throw n;if(i)e=Ie(e,new i(s,r));else{if(!o)throw n;e=Ie(e,new o(s,r))}}return e}function Ie(e,t){return e.pipeThrough(t)}const Se="data",ze="close";class _e extends p{constructor(e,r){super({});const n=this,{codecType:o}=e;let f;o.startsWith("deflate")?f=ye:o.startsWith("inflate")&&(f=me),n.outputSize=0;let s=0;const l=new f(e,r),c=super.readable,a=new p({transform(e,t){e&&e.length&&(s+=e.length,t.enqueue(e))},flush(){t.assign(n,{inputSize:s})}}),u=new p({transform(t,r){if(t&&t.length&&(r.enqueue(t),n.outputSize+=t.length,e.outputSize!==g&&n.outputSize>e.outputSize))throw new i("Invalid uncompressed size")},flush(){const{signature:e}=l;t.assign(n,{signature:e,inputSize:s})}});t.defineProperty(n,"readable",{get:()=>c.pipeThrough(a).pipeThrough(l).pipeThrough(u)})}}class xe extends p{constructor(e){let t;super({transform:function r(n,i){if(t){const e=new o(t.length+n.length);e.set(t),e.set(n,t.length),n=e,t=null}n.length>e?(i.enqueue(n.slice(0,e)),r(n.slice(e),i)):t=n},flush(e){t&&t.length&&e.enqueue(t)}})}}const Be=new c,Ce=new c;let Ae,Le=0;async function He(e){try{const{options:t,config:n}=e;if(!t.useCompressionStream)try{await self.initModule(e.config)}catch{t.useCompressionStream=!0}n.CompressionStream=self.CompressionStream,n.DecompressionStream=self.DecompressionStream;const i={highWaterMark:1},o=e.readable||new k({async pull(e){const t=new u(e=>Be.set(Le,e));Ze({type:"pull",messageId:Le}),Le=(Le+1)%r.MAX_SAFE_INTEGER;const{value:n,done:i}=await t;e.enqueue(n),i&&e.close()}},i),f=e.writable||new b({async write(e){let t;const n=new u(e=>t=e);Ce.set(Le,t),Ze({type:Se,value:e,messageId:Le}),Le=(Le+1)%r.MAX_SAFE_INTEGER,await n}},i),s=new _e(t,n);Ae=new AbortController;const{signal:l}=Ae;await o.pipeThrough(s).pipeThrough(new xe(n.chunkSize)).pipeTo(f,{signal:l,preventClose:!0,preventAbort:!0}),await f.getWriter().close();const{signature:c,inputSize:a,outputSize:w}=s;Ze({type:ze,result:{signature:c,inputSize:a,outputSize:w}})}catch(e){e.outputSize=0,Ue(e)}}function Ze(e){let{value:t}=e;if(t)if(t.length)try{t=new o(t),e.value=t.buffer,d(e,[e.value])}catch{d(e)}else d(e);else d(e)}function Ue(e=new i("Unknown error")){const{message:t,stack:r,code:n,name:o,outputSize:f}=e;d({error:{message:t,stack:r,code:n,name:o,outputSize:f}})}addEventListener("message",({data:e})=>{const{type:t,messageId:r,value:n,done:i}=e;try{if("start"==t&&He(e),t==Se){const e=Be.get(r);Be.delete(r),e({value:new o(n),done:i})}if("ack"==t){const e=Ce.get(r);Ce.delete(r),e()}t==ze&&Ae.abort()}catch(e){Ue(e)}});var{Uint8Array:Ve,Uint16Array:Ee,Int32Array:Me,TransformStream:Pe,Math:$e,Error:Oe,Array:Te}=globalThis,De=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Re=new Ve(0),Ne=new Ee(0),Qe=class{constructor(e,t){this.oe=e,this.fe=t,this.se=0}},je=class{constructor(e,t,r,n,i){this.le=e,this.ce=t,this.ae=r,this.ue=n,this.we=i}};function Ke(e,t,r,n,i){if(0==i)return;let o=e instanceof Ve?e:new Ve(e.buffer,e.byteOffset,e.byteLength),f=r instanceof Ve?r.subarray(n,n+i):new Ve(r.buffer,r.byteOffset+n,i);o.set(f,t)}function qe(e,t,r){0!=r&&(e instanceof Ve?e:new Ve(e.buffer,e.byteOffset,e.byteLength)).fill(0,t,t+r)}function Fe(){return{he:Re,de:0,pe:0,ke:0,be:Re,ye:0,me:0,ge:0,ve:"",Ie:0,Se:0,ze:0,_e:void 0}}function We(e,t){let r=1<<t;return{xe:e,Be:new Ve(r),Ce:r,Ae:t,Le:0,He:0,Ze:0,Ue:0}}function Xe(e){return St[-6>e||e>2?9:2-e]||""}function Ge(e,t){try{e.ve=Xe(t)}catch(r){e.ve="zlib error "+t+" ("+r+")"}return t}function Ye(e,t){let r=e>>>0,n=0;for(let e=0;t>e;e++)n=n<<1|1&r,r>>>=1;return n}function Je(e,t){e.Ve[e.Ee++]=t}function et(e,t){Je(e,255&t),Je(e,t>>>8&255)}function tt(e,t,r){let n=255&r,i=65535&t,o=e.Me+e.Pe;return e.Ve[o]=255&i,e.Ve[o+1]=i>>>8&255,e.Ve[o+2]=n,e.Pe+=3,i=i-1&65535,e.Oe[Vt[n]+pt+1].$e++,e.Te[it(i)].$e++,e.Pe==e.De}function rt(e,t){let r=255&t,n=e.Me+e.Pe;return e.Ve[n]=0,e.Ve[n+1]=0,e.Ve[n+2]=r,e.Pe+=3,e.Oe[r].$e++,e.Pe==e.De}function nt(e){return e.Ce-ht}function it(e){return 256>e?Et[e]:Et[256+(e>>7)]}function ot(e){let t=at+7,r=1<<t,n=(1<<t)-1,i=$e.floor((t+ut-1)/ut),o=1<<8+at;return{...We(e,15),xe:e,Re:42,Ne:0,Qe:void 0,je:32767,Ke:t,qe:r,Fe:n,We:i,Xe:new Ee(32768),Ge:new Ee(r),Ye:o,Ve:new Ve(32768),Je:0,et:32768,Ee:0,tt:0,rt:0,nt:0,it:0,ot:0,ft:-2,st:0,lt:0,ct:0,ut:0,wt:0,ht:0,dt:0,kt:0,bt:0,yt:0,gt:0,vt:0,It:0,St:0,zt:new Me(2*kt+1),_t:new Ve(2*kt+1),xt:new Ee(gt+1),Pe:0,De:0,Bt:Re,Me:0,Ct:0,At:0,Lt:8,Ht:32768,Zt:0,Ut:0,Vt:0,Oe:new Te(mt).fill(0).map(()=>({$e:0,Et:0,Mt:0,Pt:0})),Te:new Te(2*bt+1).fill(0).map(()=>({$e:0,Et:0,Mt:0,Pt:0})),$t:new Te(2*yt+1).fill(0).map(()=>({$e:0,Et:0,Mt:0,Pt:0})),Ot:lt(),Tt:lt(),Dt:lt()}}function ft(e){let t=[];for(let r=0;r<e.length;r+=2){let n=e[r],i=e[r+1],o=st();o.Et=n,o.Pt=i,t.push(o)}return t}function st(){return{$e:0,Et:0,Mt:0,Pt:0}}function lt(){return new Qe([],new je(null,Re,0,0,0))}function ct(e){let{code:t,length:r}=(e=>{let t=$e.max(...e),r=new Te(t+1).fill(0);for(let t of e)t>0&&r[t]++;let n=new Te(e.length).fill(0),i=new Te(t+1).fill(0),o=0;for(let e=1;t>=e;e++)o=o+r[e-1]<<1,i[e]=o;for(let t=0;t<e.length;t++){let r=e[t];0!=r&&(n[t]=i[r]++)}return{code:n,length:e}})(e),n=new Te(2*e.length),i=0;for(let o=0;o<e.length;o++){let e=r[o]||0,f=t[o]||0;n[i++]=e?Ye(f,e):0,n[i++]=e}return new Me(n)}var at=8,ut=3,wt=258,ht=wt+ut+1,dt=wt,pt=256,kt=pt+1+29,bt=30,yt=19,mt=2*kt+1,gt=15,vt=256,It=-1,St=["need dictionary","stream end","","file error","stream error","data error","insufficient memory","buffer error",""],zt=new Me([0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0]),_t=new Me([0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576]),xt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Bt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ct=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],At=((e,t)=>{let r=0;for(let n=0;n<e.length;n++){let i=t[n]?1<<t[n]:1,o=e[n]+i-1;o>r&&(r=o)}let n=new Ve(r+1);for(let i=0;r>=i;i++)for(let r=0;r<e.length;r++){let o=t[r]?1<<t[r]:1,f=e[r];if(i>=f&&f+o-1>=i){n[i]=r;break}}return n})(_t,Bt),Lt=ct((()=>{let e=new Te(288).fill(0);for(let t=0;143>=t;t++)e[t]=8;for(let t=144;255>=t;t++)e[t]=9;for(let t=256;279>=t;t++)e[t]=7;for(let t=280;287>=t;t++)e[t]=8;return e})()),Ht=ct(new Te(30).fill(5)),Zt=ft(Lt),Ut=ft(Ht),Vt=((e,t)=>{let r=0;for(let n=0;n<e.length;n++){let i=t[n]?1<<t[n]:1,o=e[n]+i-1;o>r&&(r=o)}258>r&&(r=258);let n=new Ve(r+1);for(let i=0;r>=i;i++)for(let r=0;r<e.length;r++){let o=t[r]?1<<t[r]:1,f=e[r];if(i>=f&&f+o-1>=i){n[i]=r;break}}return n})(zt,xt),Et=(e=>{let t=new Ve(512),r=e.length-1;for(let n=0;256>n;n++)t[n]=n>r?e[r]:e[n];for(let n=256;r>=n;n++){let r=n>>7;t[256+(r>255?255:r)]=e[n]}for(let e=257;512>e;e++)0==t[e]&&(t[e]=t[e-1]);return t})(At);function Mt(e){return e%65521>>>0}function Pt(e,t,r){if(void 0===t||void 0===r)return 1;let n=e>>>16&65535;if(e&=65535,1==r)return(e+=t[0])>=65521&&(e-=65521),n+=e,n>=65521&&(n-=65521),(n<<16|e)>>>0;if(16>r){for(let i=0;r>i;i++)n+=e+=t[i];return e>=65521&&(e-=65521),n=Mt(n),(n<<16|e)>>>0}for(;r>=5552;){r-=5552;let i=$e.floor(347);do{for(let r=0;16>r;r++)n+=e+=t[r];t=t.subarray(16)}while(--i);e=Mt(e),n=Mt(n)}if(r){for(;r>=16;){r-=16;for(let r=0;16>r;r++)n+=e+=t[r];t=t.subarray(16)}for(let i=0;r>i;i++)n+=e+=t[i];e=Mt(e),n=Mt(n)}return(n<<16|e)>>>0}var $t=(()=>{let e=new Te(256);for(let t=0;256>t;t++){let r=t;for(let e=0;8>e;e++)r=1&r?3988292384^r>>>1:r>>>1;e[t]=r>>>0}return e})();function Ot(e=0,t,r){if(!t)return 0;void 0===r&&(r=t.length),r=$e.min(r,t.length),e=~e>>>0;for(let n=0;r>n;n++)e=e>>>8^$t[255&(e^t[n])];return(4294967295^e)>>>0}function Tt(e){16==e.Ue?(et(e,e.Ze),e.Ze=0,e.Ue=0):e.Ue>=8&&(Je(e,e.Ze),e.Ze>>=8,e.Ue-=8)}function Dt(e){e.Ue>8?et(e,e.Ze):e.Ue>0&&Je(e,e.Ze),e.Ct=1+(e.Ue-1&7),e.Ze=0,e.Ue=0}function Rt(e,t,r){e.Ue>16-r?(e.Ze=65535&(e.Ze|t<<e.Ue),et(e,e.Ze),e.Ze=t>>16-e.Ue&65535,e.Ue+=r-16):(e.Ze=65535&(e.Ze|t<<e.Ue),e.Ue+=r)}function Nt(e){for(let t=0;t<e.Oe.length;t++)e.Oe[t].$e=0;for(let t=0;t<e.Te.length;t++)e.Te[t].$e=0;for(let t=0;t<e.$t.length;t++)e.$t[t].$e=0;e.Oe[vt].$e=1,e.rt=e.nt=0,e.Pe=e.it=0}function Qt(e,t,r){return r=e.zt[1],e.zt[1]=e.zt[e.Ut--],Kt(e,t,1),r}function jt(e,t,r,n){return e[t].$e<e[r].$e||e[t].$e==e[r].$e&&n[t]<=n[r]}function Kt(e,t,r){let n=e.zt[r],i=r<<1;for(;i<=e.Ut&&(i<e.Ut&&jt(t,e.zt[i+1],e.zt[i],e._t)&&i++,!jt(t,n,e.zt[i],e._t));)e.zt[r]=e.zt[i],r=i,i<<=1;e.zt[r]=n}function qt(e,t){let r,n,i,o=t.oe,f=t.fe.le,s=t.fe.ue,l=-1;for(e.Ut=0,e.Vt=mt,r=0;s>r;r++)0!=o[r].$e?(e.zt[++e.Ut]=l=r,e._t[r]=0):o[r].Pt=0;for(;2>e.Ut;)i=e.zt[++e.Ut]=2>l?++l:0,o[i].$e=1,e._t[i]=0,e.rt--,f&&(e.nt-=f[i].Pt);for(t.se=l,r=$e.floor(e.Ut/2);r>=1;r--)Kt(e,o,r);i=s;do{r=Qt(e,o,r),n=e.zt[1],e.zt[--e.Vt]=r,e.zt[--e.Vt]=n,o[i].$e=o[r].$e+o[n].$e,e._t[i]=(e._t[r]<e._t[n]?e._t[n]:e._t[r])+1,o[r].Mt=o[n].Mt=i,e.zt[1]=i++,Kt(e,o,1)}while(e.Ut>=2);e.zt[--e.Vt]=e.zt[1],((e,t)=>{let r,n,i,o,f,s,l=t.oe,c=t.se,a=t.fe.le,u=t.fe.ce,w=t.fe.ae,h=t.fe.we,d=0;for(o=0;gt>=o;o++)e.xt[o]=0;for(l[e.zt[e.Vt]].Pt=0,r=e.Vt+1;mt>r;r++)n=e.zt[r],o=l[l[n].Mt].Pt+1,o>h&&(o=h,d++),l[n].Pt=o,c>=n&&(e.xt[o]++,f=0,n>=w&&(f=u[n-w]),s=l[n].$e,e.rt+=s*(o+f),a&&(e.nt+=s*(a[n].Pt+f)));if(0!=d){do{for(o=h-1;0==e.xt[o];)o--;e.xt[o]--,e.xt[o+1]+=2,e.xt[h]--,d-=2}while(d>0);for(o=h;0!=o;o--)for(n=e.xt[o];0!=n;)i=e.zt[--r],c>=i&&(l[i].Pt!=o&&(e.rt+=(o-l[i].Pt)*l[i].$e,l[i].Pt=o),n--)}})(e,t),((e,t,r)=>{let n,i,o=[],f=0;for(n=1;gt>=n;n++)f=f+r[n-1]<<1,o[n]=f;for(i=0;t>=i;i++){let t=e[i].Pt;0!=t&&(e[i].Et=Ye(o[t]++,t))}})(o,t.se,e.xt)}function Ft(e,t,r){let n,i,o=-1,f=t[0].Pt,s=0,l=7,c=4;for(0==f&&(l=138,c=3),t[r+1].Pt=65535,n=0;r>=n;n++)i=f,f=t[n+1].Pt,(++s>=l||i!=f)&&(c>s?e.$t[i].$e+=s:0!=i?(i!=o&&e.$t[i].$e++,e.$t[16].$e++):s>10?e.$t[18].$e++:e.$t[17].$e++,s=0,o=i,0==f?(l=138,c=3):i==f?(l=6,c=3):(l=7,c=4))}function Wt(e,t,r){let n,i=-1,o=t[0].Pt,f=0,s=7,l=4;0==o&&(s=138,l=3);for(let c=0;r>=c;c++)if(n=o,o=t[c+1].Pt,++f>=s||n!=o){if(l>f)do{Rt(e,e.$t[n].Et,e.$t[n].Pt)}while(0!=--f);else 0!=n?(n!=i&&(Rt(e,e.$t[n].Et,e.$t[n].Pt),f--),Rt(e,e.$t[16].Et,e.$t[16].Pt),Rt(e,f-3,2)):f>10?(Rt(e,e.$t[18].Et,e.$t[18].Pt),Rt(e,f-11,7)):(Rt(e,e.$t[17].Et,e.$t[17].Pt),Rt(e,f-3,3));f=0,i=n,0==o?(s=138,l=3):n==o?(s=6,l=3):(s=7,l=4)}}function Xt(e,t,r,n,i=0){Rt(e,0+n,3),Dt(e),et(e,r),et(e,~r),r&&t&&Ke(e.Ve,e.Ee,t,i,r),e.Ee+=r}function Gt(e,t,r){let n,i,o,f,s=0;if(0!=e.Pe)do{n=255&e.Bt[s],n+=(255&e.Bt[s+1])<<8,i=e.Bt[s+2],s+=3,0==n?Rt(e,t[i].Et,t[i].Pt):(o=Vt[i],Rt(e,t[o+pt+1].Et,t[o+pt+1].Pt),f=xt[o],0!=f&&(i-=zt[o],Rt(e,i,f)),n--,o=it(n),Rt(e,r[o].Et,r[o].Pt),f=Bt[o],0!=f&&(n-=_t[o],Rt(e,n,f)))}while(s<e.Pe);Rt(e,t[vt].Et,t[vt].Pt)}var Yt=[{Rt:br,Nt:0,Qt:0,jt:0,Kt:0},{Rt:yr,Nt:4,Qt:4,jt:8,Kt:4},{Rt:yr,Nt:5,Qt:5,jt:16,Kt:8},{Rt:yr,Nt:6,Qt:16,jt:32,Kt:32},{Rt:mr,Nt:4,Qt:4,jt:16,Kt:16},{Rt:mr,Nt:16,Qt:8,jt:16,Kt:32},{Rt:mr,Nt:16,Qt:16,jt:32,Kt:128},{Rt:mr,Nt:32,Qt:32,jt:128,Kt:256},{Rt:mr,Nt:128,Qt:128,jt:256,Kt:1024},{Rt:mr,Nt:258,Qt:258,jt:258,Kt:4096}];function Jt(e){return 2*e-(e>4?9:0)}function er(e,t,r){return((t<<e.We^r)&e.Fe)>>>0}function tr(e,t){e.kt=er(e,e.kt,e.Be[t+(ut-1)]);let r=e.Xe[t&e.je]=e.Ge[e.kt];return e.Ge[e.kt]=t,r}function rr(e){e.Ge[e.qe-1]=0,qe(e.Ge,0,(e.qe-1)*e.Ge.BYTES_PER_ELEMENT)}function nr(e){let t,r,n=e.Ce;for(t=e.qe;t>0;)t--,r=e.Ge[t],e.Ge[t]=n>r?0:r-n;for(t=n;t>0;)t--,r=e.Xe[t],e.Xe[t]=n>r?0:r-n}function ir(e,t,r,n){let i=e.pe;return i>n&&(i=n),0==i?0:(e.pe-=i,Ke(t,r,e.he,e.de,i),1==e._e.Ne?e.Se=Pt(e.Se,new Ve(t.buffer,t.byteOffset+r,i),i):2==e._e.Ne&&(e.Se=Ot(e.Se,new Ve(t.buffer,t.byteOffset+r,i),i)),e.de+=i,e.ke+=i,i)}function or(e){let t,r,n=e.Ce;do{if(r=e.Ht-e.ct-e.lt,0==r&&0==e.lt&&0==e.ct?r=n:-1==r&&r--,e.lt>=n+nt(e)&&(Ke(e.Be,0,e.Be,n,n-r),e.Zt-=n,e.lt-=n,e.st-=n,e.ot>e.lt&&(e.ot=e.lt),nr(e),r+=n),0==e.xe.pe)break;if(t=ir(e.xe,e.Be,e.lt+e.ct,r),e.ct+=t,e.ct+e.ot>=ut){let t=e.lt-e.ot;for(e.kt=e.Be[t],e.kt=er(e,e.kt,e.Be[t+1]);e.ot&&(e.kt=er(e,e.kt,e.Be[t+ut-1]),e.Xe[t&e.je]=e.Ge[e.kt],e.Ge[e.kt]=t,t++,e.ot--,e.ct+e.ot>=ut););}}while(e.ct<ht&&0!=e.xe.pe);if(e.Le<e.Ht){let t,r=e.lt+e.ct;e.Le<r?(t=e.Ht-r,t>dt&&(t=dt),qe(e.Be,r,t),e.Le=r+t):e.Le<r+dt&&(t=r+dt-e.Le,t>e.Ht-e.Le&&(t=e.Ht-e.Le),qe(e.Be,e.Le,t),e.Le+=t)}}function fr(e){if(null==e)return!0;let t=e._e;return!t||t.xe!=e||42!=t.Re&&57!=t.Re&&69!=t.Re&&73!=t.Re&&91!=t.Re&&103!=t.Re&&113!=t.Re&&666!=t.Re}function sr(e,t){Je(e,t>>8),Je(e,255&t)}function lr(e){let t,r=e._e;(e=>{Tt(e)})(r),t=r.Ee,t>e.me&&(t=e.me),0!=t&&(Ke(e.be,e.ye,r.Ve,r.tt,t),e.ye+=t,r.tt+=t,e.ge+=t,e.me-=t,r.Ee-=t,0==r.Ee&&(r.tt=r.Je))}function cr(e,t){let r=e._e;r.Qe&&r.Qe.qt&&(e.Se=Ot(e.Se,new Ve(r.Ve.buffer,r.Je+t,r.Ee-t),r.Ee-t))}function ar(e,t){let r,n=e._e;if(fr(e)||t>5||0>t)return Ge(e,-2);if(!e.be||0!=e.pe&&!e.he||666==n.Re&&4!=t)return Ge(e,-2);if(0==e.me)return Ge(e,-5);if(r=n.ft,n.ft=t,0!=n.Ee){if(lr(e),0==e.me)return n.ft=It,0}else if(0==e.pe&&Jt(t)<=Jt(r)&&4!=t)return Ge(e,-5);if(666==n.Re&&0!=e.pe)return Ge(e,-5);if(42==n.Re&&0==n.Ne&&(n.Re=113),42==n.Re){let t,r=8+(n.Ae-8<<4)<<8;if(t=n.yt>=2||2>n.bt?0:6>n.bt?1:6==n.bt?2:3,r|=t<<6,0!=n.lt&&(r|=32),r+=31-r%31,sr(n,r),0!=n.lt&&(sr(n,e.Se>>16),sr(n,65535&e.Se)),e.Se=1,n.Re=113,lr(e),0!=n.Ee)return n.ft=It,0}if(57==n.Re)if(e.Se=Ot(0),Je(n,31),Je(n,139),Je(n,8),n.Qe)Je(n,(n.Qe.Ft?1:0)+(n.Qe.qt?2:0)+(null==n.Qe.Wt?0:4)+(null==n.Qe.Xt?0:8)+(null==n.Qe.Gt?0:16)),Je(n,255&n.Qe.Yt),Je(n,n.Qe.Yt>>>8&255),Je(n,n.Qe.Yt>>>16&255),Je(n,n.Qe.Yt>>>24&255),Je(n,9==n.bt?2:n.yt>=2||2>n.bt?4:0),Je(n,255&n.Qe.Jt),null!=n.Qe.Wt&&(Je(n,255&n.Qe.er),Je(n,n.Qe.er>>>8&255)),n.Qe.qt&&(e.Se=Ot(e.Se,n.Ve,n.Ee)),n.At=0,n.Re=69;else if(Je(n,0),Je(n,0),Je(n,0),Je(n,0),Je(n,0),Je(n,9==n.bt?2:n.yt>=2||2>n.bt?4:0),Je(n,255),n.Re=113,lr(e),0!=n.Ee)return n.ft=It,0;if(69==n.Re){if(n.Qe&&null!=n.Qe.Wt){let t=n.Ee,r=(65535&n.Qe.er)-n.At;for(;n.Ee+r>n.et;){let i=n.et-n.Ee;if(Ke(n.Ve,n.Ee,n.Qe.Wt,n.At,i),n.Ee=n.et,cr(e,t),n.At+=i,lr(e),0!=n.Ee)return n.ft=It,0;t=0,r-=i}Ke(n.Ve,n.Ee,n.Qe.Wt,n.At,r),n.Ee+=r,cr(e,t),n.At=0}n.Re=73}if(73==n.Re){if(n.Qe&&n.Qe.Xt&&n.Qe.Xt.length){let t,r=n.Ee;do{if(n.Ee==n.et){if(cr(e,r),lr(e),0!=n.Ee)return n.ft=It,0;r=0}t=n.Qe.Xt[n.At++],Je(n,t)}while(0!=t);cr(e,r),n.At=0}n.Re=91}if(91==n.Re){if(n.Qe&&n.Qe.Gt&&n.Qe.Gt.length){let t,r=n.Ee;do{if(n.Ee==n.et){if(cr(e,r),lr(e),0!=n.Ee)return n.ft=It,0;r=0}t=n.Qe.Gt[n.At++],Je(n,t)}while(0!=t);cr(e,r)}n.Re=103}if(103==n.Re){if(n.Qe&&n.Qe.qt){if(n.Ee+2>n.et&&(lr(e),0!=n.Ee))return n.ft=It,0;Je(n,255&e.Se),Je(n,e.Se>>>8&255),e.Se=Ot(0)}if(n.Re=113,lr(e),0!=n.Ee)return n.ft=It,0}if(0!=e.pe||0!=n.ct||0!=t&&666!=n.Re){let r=0==n.bt?br(n,t):2==n.yt?((e,t)=>{let r=!1;for(;;){if(0==e.ct&&(or(e),0==e.ct)){if(0==t)return 0;break}if(e.ut=0,r=rt(e,e.Be[e.lt]),e.ct--,e.lt++,r){let t=dr(e,!1);if(null!=t)return t}}if(e.ot=0,4==t)return dr(e,!0)??3;if(e.Pe){let t=dr(e,!1);if(null!=t)return t}return 1})(n,t):3==n.yt?((e,t)=>{let r,n,i,o;for(;;){if(e.ct<=wt){if(or(e),e.ct<=wt&&0==t)return 0;if(0==e.ct)break}if(e.ut=0,e.ct>=ut&&e.lt>0&&(i=e.lt-1,n=e.Be[i],n==++i&&n==++i&&n==++i)){o=e.lt+wt;do{}while(n==++i&&n==++i&&n==++i&&n==++i&&n==++i&&n==++i&&n==++i&&n==++i&&o>i);e.ut=wt-(o-i),e.ut>e.ct&&(e.ut=e.ct)}if(e.ut<ut?(r=rt(e,e.Be[e.lt]),e.ct--,e.lt++):(e.lt,e.lt,e.ut,r=tt(e,1,e.ut-ut),e.ct-=e.ut,e.lt+=e.ut,e.ut=0),r){let t=dr(e,!1);if(null!=t)return t}}if(e.ot=0,4==t)return dr(e,!0)??3;if(e.Pe){let t=dr(e,!1);if(null!=t)return t}return 1})(n,t):Yt[n.bt].Rt(n,t);if((2==r||3==r)&&(n.Re=666),0==r||2==r)return 0==e.me&&(n.ft=It),0;if(1==r&&(1==t?(e=>{Rt(e,2,3),Rt(e,Zt[vt].Et,Zt[vt].Pt),Tt(e)})(n):5!=t&&(Xt(n,null,0,0),3==t&&(rr(n),0==n.ct&&(n.lt=0,n.st=0,n.ot=0))),lr(e),0==e.me))return n.ft=It,0}return 4!=t?0:n.Ne>0?(2==n.Ne?(Je(n,255&e.Se),Je(n,e.Se>>>8&255),Je(n,e.Se>>>16&255),Je(n,e.Se>>>24&255),Je(n,255&e.ke),Je(n,e.ke>>>8&255),Je(n,e.ke>>>16&255),Je(n,e.ke>>>24&255)):(sr(n,e.Se>>>16&65535),sr(n,65535&e.Se)),lr(e),n.Ne>0&&(n.Ne=-n.Ne),0!=n.Ee?0:1):1}function ur(e){if(fr(e))return-2;let t=e._e,r=t.Re;return t.Be=Re,t.Xe=Ne,t.Ge=Ne,t.Ve=Re,t.Bt=Re,t.zt=new Me(0),t._t=Re,t.xt=Ne,t.Oe.length=0,t.Te.length=0,t.$t.length=0,t.Qe=void 0,t.Je=0,t.tt=0,t.Me=0,113==r?-3:0}function wr(e,t){let r,n,i=e.It,o=e.lt,f=e.wt,s=e.vt,l=e.lt>nt(e)?e.lt-nt(e):0,c=e.Xe,a=e.je,u=e.Be[o],w=e.Be[o+1],h=e.Be[o+f-1],d=e.Be[o+f];e.wt>=e.gt&&(i>>=2),s>e.ct&&(s=e.ct);do{if(r=t,e.Be[r+f]!=d||e.Be[r+f-1]!=h||e.Be[r]!=u||e.Be[r+1]!=w)continue;let i=$e.min(wt,e.ct),l=2;for(;i>l&&e.Be[o+l]==e.Be[r+l];)l++;if(n=l,n>f){if(e.Zt=t,f=n,n>=s)break;h=e.Be[o+f-1],d=e.Be[o+f]}}while((t=c[t&a])>l&&0!=--i);return f>e.ct?e.ct:f}function hr(e,t){((e,t,r,n,i=0)=>{let o,f,s=0;e.bt>0?(2==e.xe.Ie&&(e.xe.Ie=(e=>{let t,r=4093624447;for(t=0;31>=t;t++,r>>=1)if(1&r&&0!=e.Oe[t].$e)return 0;if(0!=e.Oe[9].$e||0!=e.Oe[10].$e||0!=e.Oe[13].$e)return 1;for(t=32;pt>t;t++)if(0!=e.Oe[t].$e)return 1;return 0})(e)),qt(e,e.Ot),qt(e,e.Tt),s=(e=>{let t;for(Ft(e,e.Oe,e.Ot.se),Ft(e,e.Te,e.Tt.se),qt(e,e.Dt),t=yt-1;t>=3&&0==e.$t[De[t]].Pt;t--);return e.rt+=14+3*(t+1),t})(e),o=e.rt+3+7>>3,f=e.nt+3+7>>3,(o>=f||4==e.yt)&&(o=f)):o=f=r+5,o>=r+4&&t?Xt(e,t,r,n,i):f==o?(Rt(e,2+n,3),Gt(e,Zt,Ut)):(Rt(e,4+n,3),((e,t,r,n)=>{let i;for(Rt(e,t-257,5),Rt(e,r-1,5),Rt(e,n-4,4),i=0;n>i;i++)Rt(e,e.$t[De[i]].Pt,3);Wt(e,e.Oe,t-1),Wt(e,e.Te,r-1)})(e,e.Ot.se+1,e.Tt.se+1,s+1),Gt(e,e.Oe,e.Te)),Nt(e),n&&Dt(e)})(e,e.Be,e.lt-e.st,t,e.st),e.st=e.lt,lr(e.xe)}function dr(e,t){return hr(e,t?1:0),0==e.xe.me?t?2:0:null}var pr=65535;function kr(e,t){return t>e?e:t}function br(e,t){let r,n,i,o=kr(e.et-5,e.Ce),f=0,s=e.xe.pe;do{if(r=pr,i=e.Ue+42>>3,e.xe.me<i||(i=e.xe.me-i,n=e.lt-e.st,r>n+e.xe.pe&&(r=n+e.xe.pe),r>i&&(r=i),o>r&&(0==r&&4!=t||0==t||r!=n+e.xe.pe)))break;f=4==t&&r==n+e.xe.pe?1:0,Xt(e,null,0,f),e.Ve[e.Ee-4]=r,e.Ve[e.Ee-3]=r>>8,e.Ve[e.Ee-2]=~r,e.Ve[e.Ee-1]=~r>>8,lr(e.xe),n&&(n>r&&(n=r),Ke(e.xe.be,e.xe.ye,e.Be,e.st,n),e.xe.ye+=n,e.xe.me-=n,e.xe.ge+=n,e.st+=n,r-=n),r&&(ir(e.xe,e.xe.be,e.xe.ye,r),e.xe.ye+=r,e.xe.me-=r,e.xe.ge+=r)}while(0==f);if(s-=e.xe.pe,s){if(s<e.Ce)e.Ht-e.lt<=s&&(e.lt-=e.Ce,Ke(e.Be,0,e.Be,e.Ce,e.lt),2>e.it&&e.it++,e.ot>e.lt&&(e.ot=e.lt)),Ke(e.Be,e.lt,e.xe.he,e.xe.de-s,s),e.lt+=s,e.ot+=kr(s,e.Ce-e.ot);else{e.it=2;let t=e.xe.de-e.Ce;Ke(e.Be,0,e.xe.he,t,e.Ce),e.lt=e.Ce,e.ot=e.lt}e.st=e.lt}return e.Le<e.lt&&(e.Le=e.lt),f?(e.Ct=8,3):0!=t&&4!=t&&0==e.xe.pe&&e.lt==e.st?1:(i=e.Ht-e.lt,e.xe.pe>i&&e.st>=e.Ce&&(e.st-=e.Ce,e.lt-=e.Ce,Ke(e.Be,0,e.Be,e.Ce,e.lt),2>e.it&&e.it++,i+=e.Ce,e.ot>e.lt&&(e.ot=e.lt)),i>e.xe.pe&&(i=e.xe.pe),i&&(ir(e.xe,e.Be,e.lt,i),e.lt+=i,e.ot+=kr(i,e.Ce-e.ot)),e.Le<e.lt&&(e.Le=e.lt),i=e.Ue+42>>3,i=kr(e.et-i,pr),o=kr(i,e.Ce),n=e.lt-e.st,(n>=o||(n||4==t)&&0!=t&&0==e.xe.pe&&i>=n)&&(r=kr(n,i),f=4==t&&0==e.xe.pe&&r==n?1:0,Xt(e,e.Be,r,f,e.st),e.st+=r,lr(e.xe)),f&&(e.Ct=8),f?2:0)}function yr(e,t){let r,n=!1;for(;;){if(e.ct<ht){if(or(e),e.ct<ht&&0==t)return 0;if(0==e.ct)break}if(r=0,e.ct>=ut&&(r=tr(e,e.lt)),0!=r&&e.lt-r<=nt(e)&&(e.ut=wr(e,r)),e.ut<ut)n=rt(e,e.Be[e.lt]),e.ct--,e.lt++;else if(e.lt,e.Zt,e.ut,n=tt(e,e.lt-e.Zt,e.ut-ut),e.ct-=e.ut,e.ut>e.St||e.ct<ut)e.lt+=e.ut,e.ut=0,e.kt=e.Be[e.lt],e.kt=er(e,e.kt,e.Be[e.lt+1]);else{e.ut--;do{e.lt++,r=tr(e,e.lt)}while(0!=--e.ut);e.lt++}if(n){let t=dr(e,!1);if(null!=t)return t}}if(e.ot=e.lt<ut-1?e.lt:ut-1,4==t)return dr(e,!0)??3;if(e.Pe){let t=dr(e,!1);if(null!=t)return t}return 1}function mr(e,t){let r,n=!1;for(;;){if(e.ct<ht){if(or(e),e.ct<ht&&0==t)return 0;if(0==e.ct)break}if(r=0,e.ct>=ut&&(r=tr(e,e.lt)),e.wt=e.ut,e.ht=e.Zt,e.ut=ut-1,0!=r&&e.wt<e.St&&e.lt-r<=nt(e)&&(e.ut=wr(e,r),5>=e.ut&&1==e.yt&&(e.ut=ut-1)),e.wt<ut||e.ut>e.wt)if(e.dt){if(n=rt(e,e.Be[e.lt-1]),n&&hr(e,0),e.lt++,e.ct--,0==e.xe.me)return 0}else e.dt=1,e.lt++,e.ct--;else{let t=e.lt+e.ct-ut;e.lt,e.ht,e.wt,n=tt(e,e.lt-1-e.ht,e.wt-ut),e.ct-=e.wt-1,e.wt-=2;do{++e.lt<=t&&(r=tr(e,e.lt))}while(0!=--e.wt);if(e.dt=0,e.ut=ut-1,e.lt++,n){let t=dr(e,!1);if(null!=t)return t}}}if(e.dt&&(n=rt(e,e.Be[e.lt-1]),e.dt=0),e.ot=e.lt<ut-1?e.lt:ut-1,4==t)return dr(e,!0)??3;if(e.Pe){let t=dr(e,!1);if(null!=t)return t}return 1}var gr=new Ee([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vr=Cr([16,8,17,4,18,4,19,4,20,4,21,4,16,1,73,1,200,1]),Ir=new Ee([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Sr=Cr([16,4,17,2,18,2,19,2,20,2,21,2,22,2,23,2,24,2,25,2,26,2,27,2,28,2,29,2,64,2]),zr=new Ee([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,3,0,0]),_r=Cr([128,8,129,4,130,4,131,4,132,4,133,4,16,1,73,1,200,1]),xr=new Ee([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,32769,49153]),Br=Cr([128,4,129,2,130,2,131,2,132,2,133,2,134,2,135,2,136,2,137,2,138,2,139,2,140,2,141,2,142,2]);function Cr(e){let t=[];for(let r=0;r<e.length;r+=2){let n=e[r],i=e[r+1];for(let e=0;i>e;e++)t.push(n)}return new Ee(t)}function Ar(e,t){let r,n=e._e,i=e.de,o=e.ye,f=e.he,s=e.be,l=n.Be,c=n.Ze>>>0,a=n.Ue>>>0,u=n.tr,w=n.rr,h=(1<<n.nr)-1,d=(1<<n.ir)-1,p=n.Ce>>>0,k=n.Le>>>0,b=n.He>>>0,y=n.sr,m=o-(t-e.me),g=o+(e.me-257),v=i+(e.pe-5),I=0,S=0,z=0,_=0;e:do{for(;15>a;){if(i>=f.length)break e;c+=f[i++]<<a,a+=8}for(r=u[c&h];;){if(z=r.lr,c>>>=z,a-=z,z=r.cr,0==z){s[o++]=r.ar;break}if(16&z){if(I=r.ar,z&=15,z){for(;z>a;){if(i>=f.length){n.ur=16200;break e}c+=f[i++]<<a,a+=8}I+=c&(1<<z)-1,c>>>=z,a-=z}for(;15>a;){if(i>=f.length){n.ur=16200;break e}c+=f[i++]<<a,a+=8}for(r=w[c&d];;){if(z=r.lr,c>>>=z,a-=z,z=r.cr,16&z){if(S=r.ar,z&=15,z){for(;z>a;){if(i>=f.length){n.ur=16200;break e}c+=f[i++]<<a,a+=8}S+=c&(1<<z)-1,c>>>=z,a-=z}let t=I,u=o-m;if(S>u){let r=S-u;if(r>k&&y){e.ve="invalid distance too far back",n.ur=16209;break e}if(0==b){if(_=p-r,r>=t){for(let e=0;t>e;++e)s[o++]=l[_++];continue e}for(let e=0;r>e;++e)s[o++]=l[_++];t-=r,_=o-S}else if(r>b){_=p+b-r;let e=r-b;if(e>=t){for(let e=0;t>e;++e)s[o++]=l[_++];continue e}for(let t=0;e>t;++t)s[o++]=l[_++];if(t-=e,_=0,t>b){for(let e=0;b>e;++e)s[o++]=l[_++];t-=b,_=o-S}}else{if(_=b-r,r>=t){for(let e=0;t>e;++e)s[o++]=l[_++];continue e}for(let e=0;r>e;++e)s[o++]=l[_++];t-=r,_=o-S}for(;t>2;)s[o++]=s[_++],s[o++]=s[_++],s[o++]=s[_++],t-=3;t&&(s[o++]=s[_++],t>1&&(s[o++]=s[_++]))}else{for(_=o-S;t>2;)s[o++]=s[_++],s[o++]=s[_++],s[o++]=s[_++],t-=3;t&&(s[o++]=s[_++],t>1&&(s[o++]=s[_++]))}break}if(64&z){e.ve="invalid distance code",n.ur=16209;break e}r=w[r.ar+(c&(1<<z)-1)]}break}if(64&z){if(32&z){n.ur=16191;break e}e.ve="invalid literal/length code",n.ur=16209;break e}r=u[r.ar+(c&(1<<z)-1)]}}while(v>i&&g>o);let x=a>>3;i-=x,a-=x<<3,c&=(1<<a)-1,e.de=i,e.ye=o,e.pe=v>i?v-i+5:5-(i-v),e.me=g>o?g-o+257:257-(o-g),n.Ze=c>>>0,n.Ue=a>>>0}function Lr(e,t){let r=[],n=t?1446:1444;return{...We(e,0),xe:e,ur:16180,wr:!1,Ne:0,hr:!1,dr:0,pr:0,kr:0,br:0,Be:Re,yr:0,mr:0,Wt:0,tr:r,rr:r,nr:0,ir:0,gr:0,vr:0,Ir:0,Sr:0,zr:r,_r:new Ee(320),Br:new Ee(288),Cr:new Te(n).fill(null).map(()=>Hr()),Ar:0,sr:!0,Lr:0,Hr:0,Zr:t}}function Hr(e=0,t=0,r=0){return{cr:e,lr:t,ar:r}}function Zr(e=1){return{cr:64,lr:e,ar:0}}function Ur(e){return(255&e)<<24|(e>>8&255)<<16|(e>>16&255)<<8|e>>24&255}var Vr={Zr:!1,Ur:gr,Vr:vr,Er:Ir,Mr:Sr,Pr:20,$r:257,Or:0,Tr:592,Dr:!1,Rr:!0},Er={Zr:!0,Ur:zr,Vr:_r,Er:xr,Mr:Br,Pr:19,$r:256,Or:-1,Tr:594,Dr:!0,Rr:!1};function Mr(e,t,r,n,i,o,f,s){let l,c,a,u,w,h,d,p,k,b,y,m,g,v,I,S,z,_,x,B=new Ee(16),C=new Ee(16),A=s?Er:Vr;for(l=0;15>=l;l++)B[l]=0;for(c=0;r>c;c++)B[t[c]]++;for(w=i.Nr,u=15;u>=1&&0==B[u];u--);if(w>u&&(w=u),0==u)return A.Rr?(I=Zr(1),n.Nr[0]=I,n.Nr[1]=I,i.Nr=1,0):-1;for(a=1;u>a&&0==B[a];a++);for(a>w&&(w=a),p=1,l=1;15>=l;l++)if(p<<=1,p-=B[l],0>p)return-1;if(p>0&&(0==e||1!=u))return-1;for(C[1]=0,l=1;15>l;l++)C[l+1]=C[l]+B[l];for(c=0;r>c;c++)0!=t[c]&&(o[C[t[c]]++]=c);switch(e){case 0:z=_=o,x=A.Pr;break;case 1:z=A.Ur,_=A.Vr,x=A.$r;break;default:z=A.Er,_=A.Mr,x=A.Or}if(b=0,c=0,l=a,S=f.Nr,h=w,d=0,g=-1,k=1<<w,v=k-1,1==e&&(A.Dr?k>=852:k>852)||2==e&&(A.Dr?k>=A.Tr:k>A.Tr))return 1;for(;;){I=Pr(o,c,l,d,e,z,_,x,A.Zr),y=1<<l-d,m=1<<h,a=m;do{m-=y;let e=(b>>d)+m;n.Nr[S+e]={...I}}while(0!=m);for(y=1<<l-1;b&y;)y>>=1;if(0!=y?(b&=y-1,b+=y):b=0,c++,0==--B[l]){if(l==u)break;l=t[o[c]]}if(l>w&&(b&v)!=g){for(0==d&&(d=w),S+=1<<h,h=l-d,p=1<<h;u>h+d&&(p-=B[h+d],p>0);)h++,p<<=1;if(k+=1<<h,1==e&&(A.Dr?k>=852:k>852)||2==e&&(A.Dr?k>=A.Tr:k>A.Tr))return 1;g=b&v,n.Nr[f.Nr+g]={cr:h,lr:w,ar:S-f.Nr}}}if(0!=b)for(I=Zr(l-d);0!=b;){for(0!=d&&(b&v)!=g&&(d=0,l=w,S=f.Nr,h=w,I.lr=l),n.Nr[S+(b>>d)]={...I},y=1<<l-1;b&y;)y>>=1;0!=y?(b&=y-1,b+=y):b=0}return f.Nr+=k,i.Nr=w,0}function Pr(e,t,r,n,i,o,f,s,l){let c;if(l?e[t]<s:e[t]+1<s)c=Hr(0,r-n,e[t]);else if(l?e[t]>s:e[t]>=s)if(l&&1==i){let i=e[t]-257;c=Hr(f[i],r-n,o[i])}else{let i=l?e[t]:e[t]-s;c=Hr(f[i],r-n,o[i])}else c=((e=0)=>({cr:96,lr:e,ar:0}))(r-n);return c}var $r,Or,Tr=new Te(544),Dr=!0;function Rr(e){let t;return!(e&&(t=e._e,!(!t||t.xe!=e||t.Zr&&(16191>t.ur||t.ur>16209)||!t.Zr&&(16180>t.ur||t.ur>16211))))}function Nr(e){let t={Nr:0};if(Dr){let r,n,i;for(r=0;144>r;)e._r[r++]=8;for(;256>r;)e._r[r++]=9;for(;280>r;)e._r[r++]=7;for(;288>r;)e._r[r++]=8;for(let e=0;544>e;e++)Tr[e]=Hr();i=Tr,$r=i,n=9;let o={Nr:i},f={Nr:n},s={Nr:0};for(Mr(1,e._r,288,o,f,e.Br,s,e.Zr),i=o.Nr,n=f.Nr,e.Ar=s.Nr,r=0;32>r;)e._r[r++]=5;n=5;let l=s.Nr,c={Nr:i},a={Nr:n};t.Nr=l,Mr(2,e._r,32,c,a,e.Br,t,e.Zr),Or=i.slice(l),Dr=!1}e.tr=$r,e.nr=9,e.rr=Or,e.ir=5,e.Ar=t.Nr}var Qr=class extends Oe{constructor(){super("Need more input")}};function jr(e,t){let r,n,i,o,f,s,l,c,a,u,w,h,d,p,k,b,y,m=new Ve(4);if(Rr(e)||!e.be||!e.he&&0!=e.pe)return-2;s=0,c=0,l=0,a=0,n=Re,i=0,o=Re,f=0,r=e._e,16191==r.ur&&(r.ur=16192),z(),u=s,w=l,y=0;try{for(;;)switch(r.ur){case 16180:if(0==r.Ne){r.ur=16192;break}if(C(16),2&r.Ne&&35615==c){0==r.Ae&&(r.Ae=15),r.kr=Ot(0),r.kr=I(r.kr,c),x(),r.ur=16181;break}if(r.Qe&&(r.Qe.Qr=-1),!(1&r.Ne)||((A(8)<<8)+(c>>8))%31){e.ve="incorrect header check",r.ur=16209;break}if(8!=A(4)){e.ve="unknown compression method",r.ur=16209;break}if(L(4),b=A(4)+8,0==r.Ae&&(r.Ae=b),b>15||b>r.Ae){e.ve="invalid window size",r.ur=16209;break}r.pr=1<<b,r.dr=0,e.Se=r.kr=Pt(0),r.ur=512&c?16189:16191,x();break;case 16181:if(C(16),r.dr=c,8!=(255&r.dr)){e.ve="unknown compression method",r.ur=16209;break}if(57344&r.dr){e.ve="unknown header flags set",r.ur=16209;break}r.Qe&&(r.Qe.Ft=c>>8&1),512&r.dr&&4&r.Ne&&(r.kr=I(r.kr,c)),x(),r.ur=16182;case 16182:C(32),r.Qe&&(r.Qe.Yt=c),512&r.dr&&4&r.Ne&&(r.kr=S(r.kr,c)),x(),r.ur=16183;case 16183:C(16),r.Qe&&(r.Qe.jr=255&c,r.Qe.Jt=c>>8),512&r.dr&&4&r.Ne&&(r.kr=I(r.kr,c)),x(),r.ur=16184;case 16184:1024&r.dr?(C(16),r.yr=c,r.Qe&&(r.Qe.er=c),512&r.dr&&4&r.Ne&&(r.kr=I(r.kr,c)),x()):r.Qe&&(r.Qe.Wt=Re),r.ur=16185;case 16185:if(1024&r.dr&&(h=r.yr,h>s&&(h=s),h&&(r.Qe&&r.Qe.Wt&&r.Qe.Kr&&(b=r.Qe.er-r.yr)<r.Qe.Kr&&Ke(r.Qe.Wt,b,n,i,h),512&r.dr&&4&r.Ne&&(r.kr=Ot(r.kr,n.subarray(i,i+h),h)),s-=h,i+=h,r.yr-=h),r.yr))return g();r.yr=0,r.ur=16186;case 16186:if(2048&r.dr){if(0==s)return g();h=0;do{b=n[i+h++],r.Qe&&r.Qe.qr&&r.yr<r.Qe.qr&&(r.Qe.Xt[r.yr++]=b)}while(b&&s>h);if(512&r.dr&&4&r.Ne&&(r.kr=Ot(r.kr,n.subarray(i,i+h),h)),s-=h,i+=h,b)return g()}else r.Qe&&(r.Qe.Xt=Re);r.yr=0,r.ur=16187;case 16187:if(4096&r.dr){if(0==s)return g();h=0;do{b=n[i+h++],r.Qe&&r.Qe.Fr&&r.yr<r.Qe.Fr&&(r.Qe.Gt[r.yr++]=b)}while(b&&s>h);if(512&r.dr&&4&r.Ne&&(r.kr=Ot(r.kr,n.subarray(i,i+h),h)),s-=h,i+=h,b)return g()}else r.Qe&&(r.Qe.Gt=Re);r.ur=16188;case 16188:if(512&r.dr){if(C(16),4&r.Ne&&c!=(65535&r.kr)){e.ve="header crc mismatch",r.ur=16209;break}x()}r.Qe&&(r.Qe.qt=r.dr>>9&1,r.Qe.Qr=1),e.Se=r.kr=Ot(0),r.ur=16191;break;case 16189:C(32),e.Se=r.kr=Ur(c),x(),r.ur=16190;case 16190:if(!r.hr)return _(),2;e.Se=r.kr=Pt(0),r.ur=16191;case 16191:if(5==t||6==t)return g();case 16192:if(r.wr){H(),r.ur=16206;break}switch(C(3),r.wr=!!A(1),L(1),A(2)){case 0:r.ur=16193;break;case 1:if(Nr(r),r.ur=16199,6==t)return L(2),g();break;case 2:r.ur=16196;break;case 3:e.ve="invalid block type",r.ur=16209}L(2);break;case 16193:if(H(),C(32),(65535&c)!=(c>>>16^65535)){e.ve="invalid stored block lengths",r.ur=16209;break}if(r.yr=65535&c,x(),r.ur=16194,6==t)return g();case 16194:r.ur=16195;case 16195:if(h=r.yr,h){if(h>s&&(h=s),h>l&&(h=l),0==h)return g();Ke(o,f,n,i,h),s-=h,i+=h,l-=h,f+=h,r.yr-=h;break}r.ur=16191;break;case 16196:if(C(14),r.vr=A(5)+257,L(5),r.Ir=A(5)+1,L(5),r.gr=A(4)+4,L(4),r.vr>286||!r.Zr&&r.Ir>30){e.ve=r.Zr?"too many length":"too many length or distance symbols",r.ur=16209;break}r.Sr=0,r.ur=16197;case 16197:for(;r.Sr<r.gr;)C(3),r._r[De[r.Sr++]]=A(3),L(3);for(;19>r.Sr;)r._r[De[r.Sr++]]=0;r.zr=r.Cr,r.tr=r.rr=r.zr,r.nr=7;let u={Nr:r.zr},m={Nr:r.nr},Z={Nr:0};if(y=Mr(0,r._r,19,u,m,r.Br,Z,r.Zr),r.zr=u.Nr,r.nr=m.Nr,y){e.ve="invalid code lengths set",r.ur=16209;break}r.Sr=0,r.ur=16198;case 16198:for(;r.Sr<r.vr+r.Ir;){for(;p=r.tr[A(r.nr)],p.lr>a;)B();if(16>p.ar)L(p.lr),r._r[r.Sr++]=p.ar;else{if(16==p.ar){if(C(p.lr+2),L(p.lr),0==r.Sr){e.ve="invalid bit length repeat",r.ur=16209;break}b=r._r[r.Sr-1],h=3+A(2),L(2)}else 17==p.ar?(C(p.lr+3),L(p.lr),b=0,h=3+A(3),L(3)):(C(p.lr+7),L(p.lr),b=0,h=11+A(7),L(7));if(r.Sr+h>r.vr+r.Ir){e.ve="invalid bit length repeat",r.ur=16209;break}for(;h--;)r._r[r.Sr++]=b}}if(16209==r.ur)break;if(0==r._r[256]){e.ve="invalid code -- missing end-of-block",r.ur=16209;break}r.zr=r.Cr,r.nr=9;let U={Nr:r.zr},V={Nr:r.nr},E={Nr:0};y=Mr(1,r._r,r.vr,U,V,r.Br,E,r.Zr),r.zr=U.Nr,r.nr=V.Nr;let M=E.Nr;if(r.tr=r.zr.slice(0,M),y){e.ve="invalid literal/lengths set",r.ur=16209;break}r.ir=6;let P=r._r.subarray(r.vr,r.vr+r.Ir),$={Nr:r.zr},O={Nr:r.ir},T={Nr:M};if(y=Mr(2,P,r.Ir,$,O,r.Br,T,r.Zr),r.zr=$.Nr,r.ir=O.Nr,r.rr=r.zr.slice(M),y){e.ve="invalid distances set",r.ur=16209;break}if(r.ur=16199,6==t)return g();case 16199:r.ur=16200;case 16200:if(!r.Zr&&s>=6&&l>=258){_(),Ar(e,w),z(),16191==r.ur&&(r.Lr=-1);break}for(r.Lr=0;p=r.tr[A(r.nr)],p.lr>a;)B();if(p.cr&&!(240&p.cr)){for(k=p;p=r.tr[k.ar+(A(k.lr+k.cr)>>k.lr)],k.lr+p.lr>a;)B();L(k.lr),r.Lr+=k.lr}if(L(p.lr),r.Lr+=p.lr,r.yr=p.ar,0==p.cr){r.ur=16205;break}if(32&p.cr){r.Lr=-1,r.ur=16191;break}if(64&p.cr){e.ve="invalid literal/length code",r.ur=16209;break}r.Wt=15&p.cr,r.ur=16201;case 16201:r.Wt&&(C(r.Wt),r.yr+=A(r.Wt),L(r.Wt),r.Lr+=r.Wt),r.Hr=r.yr,r.ur=16202;case 16202:for(;p=r.rr[A(r.ir)],p.lr>a;)B();if(!(240&p.cr)){for(k=p;p=r.rr[k.ar+(A(k.lr+k.cr)>>k.lr)],k.lr+p.lr>a;)B();L(k.lr),r.Lr+=k.lr}if(L(p.lr),r.Lr+=p.lr,64&p.cr){e.ve="invalid distance code",r.ur=16209;break}r.mr=p.ar,r.Wt=15&p.cr,r.ur=16203;case 16203:r.Wt&&(C(r.Wt),r.mr+=A(r.Wt),L(r.Wt),r.Lr+=r.Wt),r.ur=16204;case 16204:if(0==l)return g();if(h=w-l,r.mr>h){if(h=r.mr-h,h>r.Le&&r.sr){e.ve="invalid distance too far back",r.ur=16209;break}h>r.He?(h-=r.He,d=r.Ce-h):d=r.He-h,h>r.yr&&(h=r.yr),h>l&&(h=l);for(let e=0;h>e;++e)o[f]=255&r.Be[d],++f,++d}else{d=f-r.mr,h=r.yr,h>l&&(h=l);for(let e=0;h>e;++e)o[f]=o[d],++f,++d}h>l&&(h=l),l-=h,r.yr-=h,0==r.yr&&(r.ur=16200);break;case 16205:if(0==l)return g();o[f++]=r.yr,l--,r.ur=16200;break;case 16206:if(r.Ne){if(C(32),w-=l,e.ge+=w,r.br+=w,4&r.Ne&&w){let t=o.subarray(f-w,f);e.Se=r.kr=v(r.kr,t,w)}if(w=l,4&r.Ne&&(r.dr?c:Ur(c)>>>0)!=r.kr){e.ve="incorrect data check",r.ur=16209;break}x()}r.ur=16207;case 16207:if(r.Ne&&r.dr){if(C(32),4&r.Ne&&c!=(4294967295&r.br)){e.ve="incorrect length check",r.ur=16209;break}x()}r.ur=16208;case 16208:return y=1,g();case 16209:return y=-3,g();case 16210:return-4;default:return-2}}catch(e){if(e instanceof Qr)return g();throw e}function g(){if(_(),r.Ce||w!=e.me&&16209>r.ur&&(r.Zr?16208>r.ur:16206>r.ur)||4!=t){let t=w-e.me;if(((e,t,r)=>{let n=e._e;if(!(n.Be&&0!=n.Be.length||(n.Be=new Ve(1<<n.Ae),n.Be)))return 1;if(0==n.Ce&&(n.Ce=1<<n.Ae,n.He=0,n.Le=0),r<n.Ce){let e=n.Ce-n.He;e>r&&(e=r),Ke(n.Be,n.He,t,t.length-r,e),(r-=e)?(Ke(n.Be,0,t,t.length-r,r),n.He=r,n.Le=n.Ce):(n.He+=e,n.He==n.Ce&&(n.He=0),n.Le<n.Ce&&(n.Le+=e))}else Ke(n.Be,0,t,t.length-n.Ce,n.Ce),n.He=0,n.Le=n.Ce;return 0})(e,e.be.subarray(e.ye-t,e.ye),t))return r.ur=16210,-4}return u-=e.pe,w-=e.me,e.ke+=u,e.ge+=w,r.br+=w,4&r.Ne&&w&&(e.Se=r.kr=v(r.kr,e.be.subarray(e.ye-w,e.ye),w)),e.Ie=r.Ue+(r.wr?64:0)+(16191==r.ur?128:0)+(16199==r.ur||16194==r.ur?256:0),(0==u&&0==w&&0==y||4==t&&0==y)&&(y=-5),y}function v(e,t,n){return r.dr?Ot(e,t,n):Pt(e,t,n)}function I(e,t){return m[0]=255&t,m[1]=t>>>8&255,Ot(e,m,2)>>>0}function S(e,t){return m[0]=255&t,m[1]=t>>>8&255,m[2]=t>>>16&255,m[3]=t>>>24&255,Ot(e,m,4)>>>0}function z(){o=e.be,f=e.ye,l=e.me,n=e.he,i=e.de,s=e.pe,c=r.Ze,a=r.Ue}function _(){e.be=o,e.ye=f,e.me=l,e.he=n,e.de=i,e.pe=s,r.Ze=c,r.Ue=a}function x(){c=0,a=0}function B(){if(0==s)throw new Qr;s--,c+=(255&n[i])<<a,i++,c>>>=0,a+=8}function C(e){for(;e>a;)B()}function A(e){return c&(1<<e)-1}function L(e){c>>>=e,a-=e}function H(){c>>>=7&a,a-=7&a}}function Kr(e){return Rr(e)?-2:0}var qr=65536,Fr=class{constructor(e=16,t=qr){this.Wr=[],this.Xr=e;for(let r=0;r<$e.min(e,4);r++)this.Wr.push(new Ve(t))}Gr(e=qr){for(let t=this.Wr.length-1;t>=0;t--){let r=this.Wr[t];if(r.length>=e)return this.Wr.splice(t,1),r}return new Ve(e)}release(e){this.Wr.length<this.Xr&&this.Wr.push(e)}};function Wr(e){let t=new Fr(32,qr),r=null;function n(e){try{t.release(e)}catch{}}return new Pe({start(){},transform(i,o){if(!r){let t=e.Yr(),n=e.Jr(t);if(0!=n&&0!=n)throw new Oe("init failed: "+n);r={xe:t}}let f=r.xe,s=0;for(;s<i.length;){let r=$e.min(i.length-s,32768),l=i.subarray(s,s+r);for(f.he=l,f.de=0,f.pe=l.length;f.pe>0;){let r=t.Gr(),i=!1;try{f.be=r,f.ye=0,f.me=r.length;let n=e.en(f,0),s=r.length-f.me;if(s>0){let e=!1,n={tn:r.subarray(0,s),release:()=>{e||(e=!0,t.release(r))}};i=!0,o.enqueue(n)}if(0!=n&&1!=n)throw new Oe("process error: "+n)}finally{i||n(r)}}s+=r}},flush(i){if(!r)return;let o=r.xe;for(;;){let r=t.Gr(),f=!1;try{o.be=r,o.ye=0,o.me=r.length;let n=e.en(o,4),s=r.length-o.me;if(s>0){let e=!1,n={tn:r.subarray(0,s),release:()=>{e||(e=!0,t.release(r))}};f=!0,i.enqueue(n)}if(1==n)break;if(0!=n)throw new Oe("finalization error: "+n)}finally{f||n(r)}}let f=e.rn(o);if(0!=f&&0!=f)throw new Oe("end failed: "+f)}})}function Xr(){return new Pe({start(){},transform(e,t){try{t.enqueue(e.tn.slice(0))}finally{e.release()}},flush(){}})}var Gr=class{constructor(e="deflate",t){let r=function(e="deflate",t){let r="gzip"==e?31:"deflate-raw"==e?-15:15,n=t&&"number"==typeof t.level?t.level:-1;return Wr({Yr:()=>(()=>{let e=Fe();return e._e=ot(e),e})(),Jr:e=>((e,t,r=8,n=15,i=at,o=0)=>{let f=1;if(!e)return-2;if(e.ve="",-1==t&&(t=6),0>n){if(f=0,-15>n)return-2;n=-n}else n>15&&(f=2,n-=16);if(1>i||i>9||8!=r||8>n||n>15||0>t||t>9||0>o||o>4||8==n&&1!=f)return-2;8==n&&(n=9);let s=ot(e);return s?(e._e=s,s.xe=e,s.Re=42,s.Ne=f,s.Qe=void 0,s.Ae=n,s.Ce=1<<s.Ae,s.je=s.Ce-1,s.Ke=i+7,s.qe=1<<s.Ke,s.Fe=s.qe-1,s.We=(s.Ke+ut-1)/ut,s.Be=new Ve(2*s.Ce),s.Xe=new Ee(s.Ce),s.Ge=new Ee(s.qe),s.Le=0,s.Ye=1<<i+6,s.Ve=new Ve(4*s.Ye),s.et=4*s.Ye,s.Be&&s.Xe&&s.Ge&&s.Ve?(s.Bt=s.Ve.subarray(s.Ye),s.Me=s.Je+s.Ye,s.De=3*(s.Ye-1),s.bt=t,s.yt=o,s.Lt=r,(e=>{let t=(e=>{let t;return fr(e)?-2:(e.ke=e.ge=0,e.ve="",e.Ie=2,t=e._e,t.Ee=0,t.tt=t.Je,0>t.Ne&&(t.Ne=-t.Ne),t.Re=2==t.Ne?57:42,e.Se=2==t.Ne?Ot(0):Pt(0),t.ft=-2,(e=>{if(e.Oe&&e.Oe.length>=mt)for(let t=0;mt>t;t++)e.Oe[t]=st();else{e.Oe=[];for(let t=0;mt>t;t++)e.Oe.push(st())}if(e.Te&&e.Te.length>=2*bt+1)for(let t=0;2*bt+1>t;t++)e.Te[t]=st();else{e.Te=[];for(let t=0;2*bt+1>t;t++)e.Te.push(st())}if(e.$t&&e.$t.length>=2*yt+1)for(let t=0;2*yt+1>t;t++)e.$t[t]=st();else{e.$t=[];for(let t=0;2*yt+1>t;t++)e.$t.push(st())}e.Ot=new Qe(e.Oe,new je(Zt,xt,pt+1,kt,gt)),e.Tt=new Qe(e.Te,new je(Ut,Bt,0,bt,gt)),e.Dt=new Qe(e.$t,new je(null,Ct,0,yt,7)),e.Ze=0,e.Ue=0,e.Ct=0,Nt(e)})(t),0)})(e);return 0==t&&(e=>{e.Ht=2*e.Ce,rr(e),e.St=Yt[e.bt].Nt,e.gt=Yt[e.bt].Qt,e.vt=Yt[e.bt].jt,e.It=Yt[e.bt].Kt,e.lt=0,e.st=0,e.ct=0,e.ot=0,e.ut=e.wt=ut-1,e.dt=0,e.kt=0})(e._e),t})(e)):(s.Re=666,e.ve=Xe(-4),ur(e),-4)):-4})(e,n,8,r,8,0),en:ar,rn:ur})}(e,t);this.writable=r.writable,this.readable=r.readable.pipeThrough(Xr())}},Yr=class{constructor(e="deflate"){let t=((e="deflate")=>{let t="gzip"==e?31:"deflate-raw"==e?-15:15;return Wr({Yr:()=>(e=>{let t=Fe();return t._e=Lr(t,!!e),t})("deflate64-raw"==e),Jr:e=>function(e,t){let r,n;if(!e)return-2;e.ve="";let i=!!e._e.Zr;return n=Lr(e,i),i&&(t=-16),e._e=n,n.xe=e,n.ur=n.Zr?16191:16180,r=((e,t)=>{let r,n,i;if(Rr(e))return-2;if(n=e._e,n.Zr?(t=-16,i=16):i=15,0>t){if(-i>t)return-2;r=0,t=-t}else r=5+(t>>4),!n.Zr&&48>t&&(t&=15);return t&&(8>t||t>i)?-2:(n.Be.length>0&&n.Ae!=t&&(n.Be=Re),n.Ne=r,n.Ae=t,(e=>{let t;return Rr(e)?-2:(t=e._e,t.Ce=0,t.Le=0,t.He=0,(e=>{let t;return Rr(e)?-2:(t=e._e,e.ke=e.ge=t.br=0,e.ve="",t.Ne&&(e.Se=1&t.Ne),t.ur=t.Zr?16191:16180,t.wr=!1,t.hr=!1,t.dr=-1,t.pr=t.Zr?65536:32768,delete t.Qe,t.Ze=0,t.Ue=0,t.tr=t.Cr,t.rr=t.Cr,t.zr=t.Cr,t.sr=!0,t.Lr=-1,0)})(e))})(e))})(e,t),r}(e,t),en:jr,rn:Kr})})(e);this.writable=t.writable,this.readable=t.readable.pipeThrough(Xr())}};self.initModule=e=>{e.re=Gr,e.ne=Yr}});\n')}),e.BlobReader=Ot,e.BlobWriter=Lt,e.Data64URIReader=class extends Dt{constructor(e){super();let t=e.length;for(;"="==e.charAt(t-1);)t--;const n=e.indexOf(",")+1;r.assign(this,{dataURI:e,dataStart:n,size:a.floor(.75*(t-n))})}readUint8Array(e,t){const{dataStart:r,dataURI:n}=this,i=new h(t),s=4*a.floor(e/3),o=atob(n.substring(s+r,4*a.ceil((e+t)/3)+r)),l=e-3*a.floor(s/4);let f=0;for(let e=l;l+t>e&&e<o.length;e++)i[e-l]=o.charCodeAt(e),f++;return f<i.length?i.subarray(0,f):i}},e.Data64URIWriter=class extends Tt{constructor(e){super(),r.assign(this,{data:"data:"+(e||"")+";base64,",pending:[]})}writeUint8Array(e){const t=this;let r=0,i=t.pending;const s=t.pending.length;for(t.pending="",r=0;r<3*a.floor((s+e.length)/3)-s;r++)i+=n.fromCharCode(e[r]);for(;r<e.length;r++)t.pending+=n.fromCharCode(e[r]);i.length&&(i.length>2?t.data+=_(i):t.pending+=i)}getData(){return this.data+_(this.pending)}},e.ERR_BAD_FORMAT=Kr,e.ERR_CENTRAL_DIRECTORY_NOT_FOUND=Hr,e.ERR_DUPLICATED_NAME=mn,e.ERR_ENCRYPTED=Qr,e.ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND=Wr,e.ERR_EOCDR_NOT_FOUND=Pr,e.ERR_EXTRAFIELD_ZIP64_NOT_FOUND=qr,e.ERR_HTTP_RANGE=Et,e.ERR_INVALID_COMMENT=bn,e.ERR_INVALID_ENCRYPTION_STRENGTH=zn,e.ERR_INVALID_ENTRY_COMMENT=yn,e.ERR_INVALID_ENTRY_NAME=kn,e.ERR_INVALID_EXTRAFIELD_DATA=xn,e.ERR_INVALID_EXTRAFIELD_TYPE=_n,e.ERR_INVALID_PASSWORD=we,e.ERR_INVALID_SIGNATURE=pe,e.ERR_INVALID_UNCOMPRESSED_SIZE=et,e.ERR_INVALID_VERSION=Sn,e.ERR_LOCAL_FILE_HEADER_NOT_FOUND=Zr,e.ERR_OVERLAPPING_ENTRY=jr,e.ERR_SPLIT_ZIP_FILE=Gr,e.ERR_UNDEFINED_UNCOMPRESSED_SIZE=En,e.ERR_UNSUPPORTED_COMPRESSION=Jr,e.ERR_UNSUPPORTED_ENCRYPTION=Xr,e.ERR_UNSUPPORTED_FORMAT=vn,e.ERR_ZIP_NOT_EMPTY=Rn,e.HttpRangeReader=class extends Jt{constructor(e,t={}){t.useRangeHeader=!0,super(e,t)}},e.HttpReader=Jt,e.Reader=Dt,e.SplitDataReader=Gt,e.SplitDataWriter=jt,e.TextReader=class extends Ot{constructor(e){super(new m([e],{type:"text/plain"}))}},e.TextWriter=class extends Lt{constructor(e){super(e),r.assign(this,{encoding:e,utf8:!e||"utf-8"==e.toLowerCase()})}async getData(){const{encoding:e,utf8:t}=this,n=await super.getData();if(n.text&&t)return n.text();{const t=new FileReader;return new b((i,s)=>{r.assign(t,{onload:({target:e})=>i(e.result),onerror:()=>s(t.error)}),t.readAsText(n,e)})}}},e.Uint8ArrayReader=class extends Dt{constructor(e){super(),e=new h(e.buffer,e.byteOffset,e.byteLength),r.assign(this,{array:e,size:e.length})}readUint8Array(e,t){return this.array.slice(e,e+t)}},e.Uint8ArrayWriter=class extends Tt{init(e=0){r.assign(this,{offset:0,array:new h(e)}),super.init()}writeUint8Array(e){const t=this;if(t.offset+e.length>t.array.length){const r=t.array;t.array=new h(r.length+e.length),t.array.set(r)}t.array.set(e,t.offset),t.offset+=e.length}getData(){return this.array}},e.Writer=Tt,e.ZipReader=nn,e.ZipReaderStream=class{constructor(e={}){const{readable:t,writable:r}=new x,n=new nn(t,e).getEntriesGenerator();this.readable=new v({async pull(e){const{done:t,value:r}=await n.next();if(t)return e.close();const i={...r,readable:(()=>{const{readable:e,writable:t}=new x;if(r.getData)return r.getData(t),e})()};delete i.getData,e.enqueue(i)}}),this.writable=r}},e.ZipWriter=Nn,e.ZipWriterStream=class{constructor(e={}){const{readable:t,writable:r}=new x;this.readable=t,this.zipWriter=new Nn(r,e)}transform(e){const{readable:t,writable:r}=new x({flush:()=>{this.zipWriter.close()}});return this.zipWriter.add(e,t),{readable:this.readable,writable:r}}writable(e){const{readable:t,writable:r}=new x;return this.zipWriter.add(e,t),r}close(e,t={}){return this.zipWriter.close(e,t)}},e.configure=re,e.getMimeType=()=>"application/octet-stream",e.terminateWorkers=async()=>{await b.allSettled(kt.map(e=>(xt(e),e.terminate())))}});
